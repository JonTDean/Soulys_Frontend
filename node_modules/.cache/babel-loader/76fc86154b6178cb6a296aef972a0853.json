{"ast":null,"code":"import Scrollable from '../utils/scrollable/Scrollable.js';\nimport GetScrollMode from '../utils/GetScrollMode.js';\nimport GridTableCore from '../../../plugins/gameobjects/gridtable/GridTable.js';\nimport InjectProperties from './InjectProperties.js';\nimport TableOnCellVisible from './TableOnCellVisible.js';\nimport TableSetInteractive from './input/TableSetInteractive.js';\nimport NOOP from '../../../plugins/utils/object/NOOP.js';\nimport SetItems from './SetItems.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass GridTable extends Scrollable {\n  constructor(scene, config) {\n    if (config === undefined) {\n      config = {};\n    } // Create grid table core\n\n\n    var scrollMode = GetScrollMode(config);\n    var tableConfig = GetValue(config, 'table', undefined);\n\n    if (tableConfig === undefined) {\n      tableConfig = {};\n    }\n\n    tableConfig.scrollMode = scrollMode;\n    tableConfig.clamplTableOXY = GetValue(config, 'clamplChildOY', false);\n    var tableWidth = GetValue(tableConfig, 'width', undefined);\n    var tableHeight = GetValue(tableConfig, 'height', undefined);\n    var table = new GridTableCore(scene, 0, 0, tableWidth, tableHeight, tableConfig);\n    scene.add.existing(table); // Important: Add to display list for touch detecting\n\n    var proportion, expand;\n\n    if (scrollMode === 0) {\n      proportion = tableWidth === undefined ? 1 : 0;\n      expand = tableHeight === undefined;\n    } else {\n      proportion = tableHeight === undefined ? 1 : 0;\n      expand = tableWidth === undefined;\n    } // Inject properties for scrollable interface\n\n\n    InjectProperties(table); // Fill config of scrollable\n\n    config.type = 'rexGridTable';\n    config.child = {\n      gameObject: table,\n      proportion: proportion,\n      expand: expand\n    };\n    var spaceConfig = GetValue(config, 'space', undefined);\n\n    if (spaceConfig) {\n      spaceConfig.child = spaceConfig.table;\n    }\n\n    super(scene, config);\n    this.addChildrenMap('table', table);\n    this.eventEmitter = GetValue(config, 'eventEmitter', this);\n    var callback = GetValue(config, 'createCellContainerCallback', NOOP);\n    var scope = GetValue(config, 'createCellContainerCallbackScope', undefined);\n    this.setCreateCellContainerCallback(callback, scope);\n    TableOnCellVisible.call(this, table);\n\n    if (GetValue(tableConfig, 'interactive', true)) {\n      TableSetInteractive.call(this, table, tableConfig);\n    }\n\n    this.setItems(GetValue(config, 'items', []));\n  }\n\n  setCreateCellContainerCallback(callback, scope) {\n    this.createCellContainerCallback = callback;\n    this.createCellContainerCallbackScope = scope;\n    return this;\n  }\n\n  refresh() {\n    this.setItems(this.items);\n    return this;\n  }\n\n}\n\nvar methods = {\n  setItems: SetItems\n};\nObject.assign(GridTable.prototype, methods);\nexport default GridTable;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/gridtable/GridTable.js"],"names":["Scrollable","GetScrollMode","GridTableCore","InjectProperties","TableOnCellVisible","TableSetInteractive","NOOP","SetItems","GetValue","Phaser","Utils","Objects","GridTable","constructor","scene","config","undefined","scrollMode","tableConfig","clamplTableOXY","tableWidth","tableHeight","table","add","existing","proportion","expand","type","child","gameObject","spaceConfig","addChildrenMap","eventEmitter","callback","scope","setCreateCellContainerCallback","call","setItems","createCellContainerCallback","createCellContainerCallbackScope","refresh","items","methods","Object","assign","prototype"],"mappings":"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","sourcesContent":["import Scrollable from '../utils/scrollable/Scrollable.js';\r\nimport GetScrollMode from '../utils/GetScrollMode.js';\r\nimport GridTableCore from '../../../plugins/gameobjects/gridtable/GridTable.js';\r\nimport InjectProperties from './InjectProperties.js';\r\nimport TableOnCellVisible from './TableOnCellVisible.js';\r\nimport TableSetInteractive from './input/TableSetInteractive.js';\r\nimport NOOP from '../../../plugins/utils/object/NOOP.js';\r\nimport SetItems from './SetItems.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass GridTable extends Scrollable {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Create grid table core\r\n        var scrollMode = GetScrollMode(config);\r\n        var tableConfig = GetValue(config, 'table', undefined)\r\n        if (tableConfig === undefined) {\r\n            tableConfig = {};\r\n        }\r\n        tableConfig.scrollMode = scrollMode;\r\n        tableConfig.clamplTableOXY = GetValue(config, 'clamplChildOY', false);\r\n        var tableWidth = GetValue(tableConfig, 'width', undefined);\r\n        var tableHeight = GetValue(tableConfig, 'height', undefined);\r\n        var table = new GridTableCore(scene, 0, 0, tableWidth, tableHeight, tableConfig);\r\n        scene.add.existing(table); // Important: Add to display list for touch detecting\r\n        var proportion, expand;\r\n        if (scrollMode === 0) {\r\n            proportion = (tableWidth === undefined) ? 1 : 0;\r\n            expand = (tableHeight === undefined);\r\n        } else {\r\n            proportion = (tableHeight === undefined) ? 1 : 0;\r\n            expand = (tableWidth === undefined);\r\n        }\r\n        // Inject properties for scrollable interface\r\n        InjectProperties(table);\r\n\r\n        // Fill config of scrollable\r\n        config.type = 'rexGridTable';\r\n        config.child = {\r\n            gameObject: table,\r\n            proportion: proportion,\r\n            expand: expand,\r\n        };\r\n        var spaceConfig = GetValue(config, 'space', undefined);\r\n        if (spaceConfig) {\r\n            spaceConfig.child = spaceConfig.table;\r\n        }\r\n        super(scene, config);\r\n\r\n        this.addChildrenMap('table', table);\r\n\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n        var callback = GetValue(config, 'createCellContainerCallback', NOOP);\r\n        var scope = GetValue(config, 'createCellContainerCallbackScope', undefined);\r\n        this.setCreateCellContainerCallback(callback, scope);\r\n\r\n        TableOnCellVisible.call(this, table);\r\n\r\n        if (GetValue(tableConfig, 'interactive', true)) {\r\n            TableSetInteractive.call(this, table, tableConfig);\r\n        }\r\n        this.setItems(GetValue(config, 'items', []));\r\n    }\r\n\r\n    setCreateCellContainerCallback(callback, scope) {\r\n        this.createCellContainerCallback = callback;\r\n        this.createCellContainerCallbackScope = scope;\r\n        return this;\r\n    }\r\n\r\n    refresh() {\r\n        this.setItems(this.items);\r\n        return this;\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    setItems: SetItems\r\n}\r\nObject.assign(\r\n    GridTable.prototype,\r\n    methods\r\n);\r\n\r\nexport default GridTable;"]},"metadata":{},"sourceType":"module"}