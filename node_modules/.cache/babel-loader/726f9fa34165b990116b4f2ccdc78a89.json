{"ast":null,"code":"import Sizer from '../../sizer/Sizer.js';\nimport GetScrollMode from '../GetScrollMode.js';\nimport Slider from '../../slider/Slider.js';\nimport Scroller from '../../../../plugins/scroller.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar CreateScrollableSizer = function (config) {\n  var scene = this.scene;\n  var scrollMode = GetScrollMode(config);\n  var scrollableSizer = new Sizer(scene, {\n    orientation: scrollMode\n  });\n  var child = GetValue(config, 'child.gameObject', undefined);\n  var sliderConfig = GetValue(config, 'slider', undefined),\n      slider;\n  var scrollerConfig = GetValue(config, 'scroller', true),\n      scroller; // Child, slider, scroller\n\n  if (child) {\n    var childSpace = GetValue(config, 'space.child', 0);\n    this.childPadding = {};\n\n    if (typeof childSpace !== 'number') {\n      var childPadding = childSpace;\n\n      if (scrollMode === 0) {\n        childSpace = GetValue(childPadding, 'right', 0);\n        this.childPadding.top = GetValue(childPadding, 'top', 0);\n        this.childPadding.bottom = GetValue(childPadding, 'bottom', 0);\n      } else {\n        childSpace = GetValue(childPadding, 'bottom', 0);\n        this.childPadding.top = GetValue(childPadding, 'left', 0);\n        this.childPadding.bottom = GetValue(childPadding, 'right', 0);\n      }\n    } else {\n      this.childPadding.top = 0;\n      this.childPadding.bottom = 0;\n    }\n\n    var proportion = GetValue(config, 'child.proportion', 1);\n    var expand = GetValue(config, 'child.expand', true);\n    scrollableSizer.add(child, proportion, 'center', 0, expand);\n\n    if (sliderConfig) {\n      if (sliderConfig === true) {\n        sliderConfig = {};\n      }\n\n      var padding;\n\n      if (scrollMode === 0) {\n        padding = {\n          left: childSpace\n        };\n      } else {\n        padding = {\n          top: childSpace\n        };\n      } // Vertical slider(orientation=1) for left-right scrollableSizer(orientation=0)\n      // Horizontal slider(orientation=0) for top-bottom scrollableSizer(orientation=1)\n\n\n      sliderConfig.orientation = scrollableSizer.orientation === 0 ? 1 : 0;\n      slider = new Slider(scene, sliderConfig);\n      scrollableSizer.add(slider, 0, 'center', padding, true);\n    }\n\n    if (scrollerConfig) {\n      if (scrollerConfig === true) {\n        scrollerConfig = {};\n      }\n\n      scrollerConfig.orientation = scrollMode;\n      scroller = new Scroller(child, scrollerConfig);\n    }\n  } // Control\n\n\n  if (slider) {\n    slider.on('valuechange', function (newValue) {\n      this.t = newValue;\n      this.emit('scroll', this);\n    }, this);\n  }\n\n  if (scroller) {\n    scroller.on('valuechange', function (newValue) {\n      this.childOY = newValue;\n      this.emit('scroll', this);\n    }, this);\n  }\n\n  this.addChildrenMap('child', child);\n  this.addChildrenMap('slider', slider);\n  this.addChildrenMap('scroller', scroller);\n  return scrollableSizer;\n};\n\nexport default CreateScrollableSizer;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/utils/scrollable/CreateScrollableSizer.js"],"names":["Sizer","GetScrollMode","Slider","Scroller","GetValue","Phaser","Utils","Objects","CreateScrollableSizer","config","scene","scrollMode","scrollableSizer","orientation","child","undefined","sliderConfig","slider","scrollerConfig","scroller","childSpace","childPadding","top","bottom","proportion","expand","add","padding","left","on","newValue","t","emit","childOY","addChildrenMap"],"mappings":"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","sourcesContent":["import Sizer from '../../sizer/Sizer.js';\r\nimport GetScrollMode from '../GetScrollMode.js';\r\nimport Slider from '../../slider/Slider.js';\r\nimport Scroller from '../../../../plugins/scroller.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar CreateScrollableSizer = function (config) {\r\n    var scene = this.scene;\r\n    var scrollMode = GetScrollMode(config);\r\n    var scrollableSizer = new Sizer(scene, { orientation: scrollMode });\r\n\r\n    var child = GetValue(config, 'child.gameObject', undefined);\r\n    var sliderConfig = GetValue(config, 'slider', undefined), slider;\r\n    var scrollerConfig = GetValue(config, 'scroller', true), scroller;\r\n\r\n    // Child, slider, scroller\r\n    if (child) {\r\n        var childSpace = GetValue(config, 'space.child', 0);\r\n        this.childPadding = {};\r\n        if (typeof (childSpace) !== 'number') {\r\n            var childPadding = childSpace;\r\n            if (scrollMode === 0) {\r\n                childSpace = GetValue(childPadding, 'right', 0);\r\n                this.childPadding.top = GetValue(childPadding, 'top', 0);\r\n                this.childPadding.bottom = GetValue(childPadding, 'bottom', 0);\r\n            } else {\r\n                childSpace = GetValue(childPadding, 'bottom', 0);\r\n                this.childPadding.top = GetValue(childPadding, 'left', 0);\r\n                this.childPadding.bottom = GetValue(childPadding, 'right', 0);\r\n            }\r\n        } else {\r\n            this.childPadding.top = 0;\r\n            this.childPadding.bottom = 0;\r\n        }\r\n\r\n        var proportion = GetValue(config, 'child.proportion', 1);\r\n        var expand = GetValue(config, 'child.expand', true);\r\n        scrollableSizer.add(child, proportion, 'center', 0, expand);\r\n\r\n        if (sliderConfig) {\r\n            if (sliderConfig === true) {\r\n                sliderConfig = {};\r\n            }\r\n            var padding;\r\n            if (scrollMode === 0) {\r\n                padding = { left: childSpace };\r\n            } else {\r\n                padding = { top: childSpace };\r\n            }\r\n\r\n            // Vertical slider(orientation=1) for left-right scrollableSizer(orientation=0)\r\n            // Horizontal slider(orientation=0) for top-bottom scrollableSizer(orientation=1)\r\n            sliderConfig.orientation = (scrollableSizer.orientation === 0) ? 1 : 0;\r\n            slider = new Slider(scene, sliderConfig);\r\n            scrollableSizer.add(slider, 0, 'center', padding, true);\r\n        }\r\n\r\n\r\n        if (scrollerConfig) {\r\n            if (scrollerConfig === true) {\r\n                scrollerConfig = {};\r\n            }\r\n            scrollerConfig.orientation = scrollMode;\r\n            scroller = new Scroller(child, scrollerConfig);\r\n        }\r\n    }\r\n\r\n    // Control\r\n    if (slider) {\r\n        slider.on('valuechange', function (newValue) {\r\n            this.t = newValue;            \r\n            this.emit('scroll', this);\r\n        }, this);\r\n    }\r\n    if (scroller) {\r\n        scroller.on('valuechange', function (newValue) {\r\n            this.childOY = newValue;\r\n            this.emit('scroll', this);\r\n        }, this);\r\n    }\r\n\r\n    this.addChildrenMap('child', child);\r\n    this.addChildrenMap('slider', slider);\r\n    this.addChildrenMap('scroller', scroller);\r\n\r\n    return scrollableSizer;\r\n}\r\n\r\nexport default CreateScrollableSizer;"]},"metadata":{},"sourceType":"module"}