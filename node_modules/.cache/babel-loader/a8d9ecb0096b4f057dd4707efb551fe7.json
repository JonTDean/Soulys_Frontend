{"ast":null,"code":"import Sizer from '../sizer/Sizer.js';\nimport Buttons from '../buttons/Buttons.js';\nimport ButtonMethods from './ButtonMethods.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Dialog extends Sizer {\n  constructor(scene, config) {\n    if (config === undefined) {\n      config = {};\n    } // Create sizer        \n\n\n    config.orientation = 1; // Top to bottom\n\n    super(scene, config);\n    this.type = 'rexDialog';\n    this.eventEmitter = GetValue(config, 'eventEmitter', this); // Add elements\n\n    var background = GetValue(config, 'background', undefined);\n    var title = GetValue(config, 'title', undefined);\n    var toolbar = GetValue(config, 'toolbar', undefined);\n    var toolbarBackground = GetValue(config, 'toolbarBackground', undefined);\n    var leftToolbar = GetValue(config, 'leftToolbar', undefined);\n    var leftToolbarBackground = GetValue(config, 'leftToolbarBackground', undefined);\n    var content = GetValue(config, 'content', undefined);\n    var description = GetValue(config, 'description', undefined);\n    var choicesSizer;\n    var choices = GetValue(config, 'choices', undefined);\n    var choicesBackground = GetValue(config, 'choicesBackground', undefined);\n    var actionsSizer;\n    var actions = GetValue(config, 'actions', undefined);\n    var actionsBackground = GetValue(config, 'actionsBackground', undefined);\n    var clickConfig = GetValue(config, 'click', undefined);\n\n    if (background) {\n      this.addBackground(background);\n    }\n\n    var toolbarSizer;\n\n    if (toolbar) {\n      toolbarSizer = new Buttons(scene, {\n        groupName: 'toolbar',\n        background: toolbarBackground,\n        buttons: toolbar,\n        orientation: 0,\n        // Left-right\n        space: {\n          item: GetValue(config, 'space.toolbarItem', 0)\n        },\n        click: clickConfig,\n        eventEmitter: this.eventEmitter\n      });\n    }\n\n    var leftToolbarSizer;\n\n    if (leftToolbar) {\n      leftToolbarSizer = new Buttons(scene, {\n        groupName: 'leftToolbar',\n        background: leftToolbarBackground,\n        buttons: leftToolbar,\n        orientation: 0,\n        // Left-right\n        space: {\n          item: GetValue(config, 'space.leftToolbarItem', 0)\n        },\n        click: clickConfig,\n        eventEmitter: this.eventEmitter\n      });\n    } // title only\n\n\n    if (title && !toolbar && !leftToolbar) {\n      var align = GetValue(config, 'align.title', 'center');\n      var titleSpace = GetValue(config, 'space.title', 0);\n      var padding;\n\n      if (content || description || choices || actions) {\n        padding = {\n          bottom: titleSpace\n        };\n      }\n\n      var expand = GetValue(config, 'expand.title', true);\n      this.add(title, 0, align, padding, expand);\n    } // toolbar only\n\n\n    if (toolbar && !title && !leftToolbar) {\n      var titleSpace = GetValue(config, 'space.title', 0);\n      var padding;\n\n      if (content || description || choices || actions) {\n        padding = {\n          bottom: titleSpace\n        };\n      }\n\n      var expand = GetValue(config, 'expand.toolbar', true);\n      this.add(toolbarSizer, 0, 'right', padding, expand);\n    } // leftToolbar only\n\n\n    if (leftToolbar && !title && !toolbar) {\n      var titleSpace = GetValue(config, 'space.title', 0);\n      var padding;\n\n      if (content || description || choices || actions) {\n        padding = {\n          bottom: titleSpace\n        };\n      }\n\n      var expand = GetValue(config, 'expand.leftToolbar', true);\n      this.add(leftToolbarSizer, 0, 'left', padding, expand);\n    } // tilte and (toolbar or leftToolbar)\n\n\n    if (title && (toolbar || leftToolbar)) {\n      var titleSizer = new Sizer(scene, {\n        orientation: 0\n      }); // Add leftToolbar\n\n      if (leftToolbarSizer) {\n        titleSizer.add(leftToolbarSizer, 0, 'right', 0, false);\n      } // Add title\n\n\n      var align = GetValue(config, 'align.title', 'left');\n      var expand = GetValue(config, 'expand.title', true); // Add space if not expand\n\n      if (!expand && (align === 'right' || align === 'center')) {\n        titleSizer.addSpace();\n      }\n\n      var padding = {\n        left: GetValue(config, 'space.titleLeft', 0),\n        right: GetValue(config, 'space.titleRight', 0)\n      };\n      var proportion = expand ? 1 : 0;\n      titleSizer.add(title, proportion, 'center', padding, expand); // Add space if not expand\n\n      if (!expand && (align === 'left' || align === 'center')) {\n        titleSizer.addSpace();\n      } // Add toolbar\n\n\n      if (toolbarSizer) {\n        titleSizer.add(toolbarSizer, 0, 'right', 0, false);\n      } // Add sizer to dialog\n\n\n      var titleSpace = GetValue(config, 'space.title', 0);\n      var padding;\n\n      if (content || description || choices || actions) {\n        padding = {\n          bottom: titleSpace\n        };\n      }\n\n      this.add(titleSizer, 0, 'center', padding, true);\n    }\n\n    if (content) {\n      var align = GetValue(config, 'align.content', 'center');\n      var contentSpace = GetValue(config, 'space.content', 0);\n      var padding = {\n        left: GetValue(config, 'space.contentLeft', 0),\n        right: GetValue(config, 'space.contentRight', 0),\n        bottom: description || choices || actions ? contentSpace : 0\n      };\n      var expand = GetValue(config, 'expand.content', true);\n      this.add(content, 0, align, padding, expand);\n    }\n\n    if (description) {\n      var align = GetValue(config, 'align.description', 'center');\n      var descriptionSpace = GetValue(config, 'space.description', 0);\n      var padding = {\n        left: GetValue(config, 'space.descriptionLeft', 0),\n        right: GetValue(config, 'space.descriptionRight', 0),\n        bottom: choices || actions ? descriptionSpace : 0\n      };\n      var expand = GetValue(config, 'expand.description', true);\n      this.add(description, 0, align, padding, expand);\n    }\n\n    if (choices) {\n      var align = GetValue(config, 'align.choices', 'center');\n      choicesSizer = new Buttons(scene, {\n        groupName: 'choices',\n        background: choicesBackground,\n        buttons: choices,\n        orientation: 1,\n        // Top-Bottom\n        space: {\n          item: GetValue(config, 'space.choice', 0)\n        },\n        click: clickConfig,\n        eventEmitter: this.eventEmitter,\n        type: GetValue(config, 'choicesType', undefined),\n        setValueCallback: GetValue(config, 'choicesSetValueCallback', undefined),\n        setValueCallbackScope: GetValue(config, 'choicesSetValueCallbackScope', undefined)\n      });\n      var choicesSpace = GetValue(config, 'space.choices', 0);\n      var padding = {\n        left: GetValue(config, 'space.choicesLeft', 0),\n        right: GetValue(config, 'space.choicesRight', 0),\n        bottom: actions ? choicesSpace : 0\n      };\n      var expand = GetValue(config, 'expand.choices', true);\n      this.add(choicesSizer, 0, align, padding, expand);\n    }\n\n    if (actions) {\n      actionsSizer = new Buttons(scene, {\n        groupName: 'actions',\n        background: actionsBackground,\n        buttons: actions,\n        orientation: 0,\n        // Left-right\n        space: {\n          item: GetValue(config, 'space.action', 0)\n        },\n        expand: GetValue(config, 'expand.actions', false),\n        align: GetValue(config, 'align.actions', 'center'),\n        click: clickConfig,\n        eventEmitter: this.eventEmitter\n      });\n      var padding = {\n        left: GetValue(config, 'space.actionsLeft', 0),\n        right: GetValue(config, 'space.actionsRight', 0)\n      };\n      this.add(actionsSizer, 0, 'center', padding, true);\n    }\n\n    this.addChildrenMap('background', background);\n    this.addChildrenMap('title', title);\n    this.addChildrenMap('toolbar', toolbar);\n    this.addChildrenMap('leftToolbar', leftToolbar);\n    this.addChildrenMap('content', content);\n    this.addChildrenMap('choices', choices);\n    this.addChildrenMap('actions', actions);\n    this.addChildrenMap('choicesSizer', choicesSizer);\n    this.addChildrenMap('actionsSizer', actionsSizer);\n    this.addChildrenMap('toolbarSizer', toolbarSizer);\n    this.addChildrenMap('leftToolbarSizer', leftToolbarSizer);\n  }\n\n}\n\nObject.assign(Dialog.prototype, ButtonMethods);\nexport default Dialog;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/dialog/Dialog.js"],"names":["Sizer","Buttons","ButtonMethods","GetValue","Phaser","Utils","Objects","Dialog","constructor","scene","config","undefined","orientation","type","eventEmitter","background","title","toolbar","toolbarBackground","leftToolbar","leftToolbarBackground","content","description","choicesSizer","choices","choicesBackground","actionsSizer","actions","actionsBackground","clickConfig","addBackground","toolbarSizer","groupName","buttons","space","item","click","leftToolbarSizer","align","titleSpace","padding","bottom","expand","add","titleSizer","addSpace","left","right","proportion","contentSpace","descriptionSpace","setValueCallback","setValueCallbackScope","choicesSpace","addChildrenMap","Object","assign","prototype"],"mappings":"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","sourcesContent":["import Sizer from '../sizer/Sizer.js';\r\nimport Buttons from '../buttons/Buttons.js';\r\nimport ButtonMethods from './ButtonMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Dialog extends Sizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        // Create sizer        \r\n        config.orientation = 1; // Top to bottom\r\n        super(scene, config);\r\n        this.type = 'rexDialog';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var title = GetValue(config, 'title', undefined);\r\n        var toolbar = GetValue(config, 'toolbar', undefined);\r\n        var toolbarBackground = GetValue(config, 'toolbarBackground', undefined);\r\n        var leftToolbar = GetValue(config, 'leftToolbar', undefined);\r\n        var leftToolbarBackground = GetValue(config, 'leftToolbarBackground', undefined);\r\n        var content = GetValue(config, 'content', undefined);\r\n        var description = GetValue(config, 'description', undefined);\r\n        var choicesSizer;\r\n        var choices = GetValue(config, 'choices', undefined);\r\n        var choicesBackground = GetValue(config, 'choicesBackground', undefined);\r\n        var actionsSizer;\r\n        var actions = GetValue(config, 'actions', undefined);\r\n        var actionsBackground = GetValue(config, 'actionsBackground', undefined);\r\n        var clickConfig = GetValue(config, 'click', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        var toolbarSizer;\r\n        if (toolbar) {\r\n            toolbarSizer = new Buttons(scene, {\r\n                groupName: 'toolbar',\r\n                background: toolbarBackground,\r\n                buttons: toolbar,\r\n                orientation: 0, // Left-right\r\n                space: { item: GetValue(config, 'space.toolbarItem', 0) },\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n        }\r\n\r\n        var leftToolbarSizer;\r\n        if (leftToolbar) {\r\n            leftToolbarSizer = new Buttons(scene, {\r\n                groupName: 'leftToolbar',\r\n                background: leftToolbarBackground,\r\n                buttons: leftToolbar,\r\n                orientation: 0, // Left-right\r\n                space: { item: GetValue(config, 'space.leftToolbarItem', 0) },\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n        }\r\n\r\n        // title only\r\n        if (title && !toolbar && !leftToolbar) {\r\n            var align = GetValue(config, 'align.title', 'center');\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.title', true);\r\n            this.add(title, 0, align, padding, expand);\r\n        }\r\n\r\n        // toolbar only\r\n        if (toolbar && !title && !leftToolbar) {\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.toolbar', true);\r\n            this.add(toolbarSizer, 0, 'right', padding, expand);\r\n        }\r\n\r\n        // leftToolbar only\r\n        if (leftToolbar && !title && !toolbar) {\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.leftToolbar', true);\r\n            this.add(leftToolbarSizer, 0, 'left', padding, expand);\r\n        }\r\n\r\n        // tilte and (toolbar or leftToolbar)\r\n        if (title && (toolbar || leftToolbar)) {\r\n            var titleSizer = new Sizer(scene, {\r\n                orientation: 0\r\n            });\r\n            // Add leftToolbar\r\n            if (leftToolbarSizer) {\r\n                titleSizer.add(leftToolbarSizer, 0, 'right', 0, false);\r\n            }\r\n            // Add title\r\n            var align = GetValue(config, 'align.title', 'left');\r\n            var expand = GetValue(config, 'expand.title', true);\r\n            // Add space if not expand\r\n            if (\r\n                !expand &&\r\n                ((align === 'right') || (align === 'center'))\r\n            ) {\r\n                titleSizer.addSpace();\r\n            }\r\n            var padding = {\r\n                left: GetValue(config, 'space.titleLeft', 0),\r\n                right: GetValue(config, 'space.titleRight', 0)\r\n            }\r\n            var proportion = (expand) ? 1 : 0;\r\n            titleSizer.add(title, proportion, 'center', padding, expand);\r\n            // Add space if not expand\r\n            if (\r\n                !expand &&\r\n                ((align === 'left') || (align === 'center'))\r\n            ) {\r\n                titleSizer.addSpace();\r\n            }\r\n            // Add toolbar\r\n            if (toolbarSizer) {\r\n                titleSizer.add(toolbarSizer, 0, 'right', 0, false);\r\n            }\r\n            // Add sizer to dialog\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            this.add(titleSizer, 0, 'center', padding, true);\r\n        }\r\n\r\n        if (content) {\r\n            var align = GetValue(config, 'align.content', 'center');\r\n            var contentSpace = GetValue(config, 'space.content', 0);\r\n            var padding = {\r\n                left: GetValue(config, 'space.contentLeft', 0),\r\n                right: GetValue(config, 'space.contentRight', 0),\r\n                bottom: ((description || choices || actions) ? contentSpace : 0)\r\n            }\r\n            var expand = GetValue(config, 'expand.content', true);\r\n            this.add(content, 0, align, padding, expand);\r\n        }\r\n\r\n        if (description) {\r\n            var align = GetValue(config, 'align.description', 'center');\r\n            var descriptionSpace = GetValue(config, 'space.description', 0);\r\n            var padding = {\r\n                left: GetValue(config, 'space.descriptionLeft', 0),\r\n                right: GetValue(config, 'space.descriptionRight', 0),\r\n                bottom: ((choices || actions) ? descriptionSpace : 0)\r\n            }\r\n            var expand = GetValue(config, 'expand.description', true);\r\n            this.add(description, 0, align, padding, expand);\r\n        }\r\n\r\n        if (choices) {\r\n            var align = GetValue(config, 'align.choices', 'center');\r\n            choicesSizer = new Buttons(scene, {\r\n                groupName: 'choices',\r\n                background: choicesBackground,\r\n                buttons: choices,\r\n                orientation: 1, // Top-Bottom\r\n                space: { item: GetValue(config, 'space.choice', 0) },\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n                type: GetValue(config, 'choicesType', undefined),\r\n                setValueCallback: GetValue(config, 'choicesSetValueCallback', undefined),\r\n                setValueCallbackScope: GetValue(config, 'choicesSetValueCallbackScope', undefined)\r\n            });\r\n            var choicesSpace = GetValue(config, 'space.choices', 0);\r\n            var padding = {\r\n                left: GetValue(config, 'space.choicesLeft', 0),\r\n                right: GetValue(config, 'space.choicesRight', 0),\r\n                bottom: ((actions) ? choicesSpace : 0)\r\n            }\r\n            var expand = GetValue(config, 'expand.choices', true);\r\n            this.add(choicesSizer, 0, align, padding, expand);\r\n        }\r\n\r\n        if (actions) {\r\n            actionsSizer = new Buttons(scene, {\r\n                groupName: 'actions',\r\n                background: actionsBackground,\r\n                buttons: actions,\r\n                orientation: 0, // Left-right\r\n                space: { item: GetValue(config, 'space.action', 0) },\r\n                expand: GetValue(config, 'expand.actions', false),\r\n                align: GetValue(config, 'align.actions', 'center'),\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            })\r\n            var padding = {\r\n                left: GetValue(config, 'space.actionsLeft', 0),\r\n                right: GetValue(config, 'space.actionsRight', 0)\r\n            }\r\n            this.add(actionsSizer, 0, 'center', padding, true);\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('title', title);\r\n        this.addChildrenMap('toolbar', toolbar);\r\n        this.addChildrenMap('leftToolbar', leftToolbar);\r\n        this.addChildrenMap('content', content);\r\n        this.addChildrenMap('choices', choices);\r\n        this.addChildrenMap('actions', actions);\r\n        this.addChildrenMap('choicesSizer', choicesSizer);\r\n        this.addChildrenMap('actionsSizer', actionsSizer);\r\n        this.addChildrenMap('toolbarSizer', toolbarSizer);\r\n        this.addChildrenMap('leftToolbarSizer', leftToolbarSizer);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Dialog.prototype,\r\n    ButtonMethods\r\n);\r\n\r\nexport default Dialog;"]},"metadata":{},"sourceType":"module"}