{"ast":null,"code":"import FSM from '../../fsm.js';\n\nclass State extends FSM {\n  constructor(parent, config) {\n    super(config);\n    this.parent = parent;\n    this.init();\n  }\n\n  init() {\n    this.start('IDLE');\n  } // IDLE -> DRAGBEGIN|DRAG\n\n\n  next_IDLE() {\n    var nextState,\n        parent = this.parent,\n        dragState = parent.dragState;\n\n    if (dragState.isDown) {\n      nextState = parent.dragThreshold === 0 ? 'DRAG' : 'DRAGBEGIN';\n    }\n\n    return nextState;\n  }\n\n  update_IDLE(time, delta) {\n    this.next();\n  } // IDLE\n  // DRAGBEGIN -> DRAG|IDLE\n\n\n  next_DRAGBEGIN() {\n    var nextState,\n        parent = this.parent,\n        dragState = parent.dragState;\n\n    if (dragState.isDown) {\n      nextState = dragState.pointer.getDistance() >= parent.dragThreshold ? 'DRAG' : 'DRAGBEGIN';\n    } else {\n      // dragState.isUp\n      nextState = 'IDLE';\n    }\n\n    return nextState;\n  }\n\n  update_DRAGBEGIN(time, delta) {\n    this.next();\n  } // DRAGBEGIN\n  // DRAG -> BACK|SLIDE|IDLE\n\n\n  next_DRAG() {\n    var nextState,\n        parent = this.parent,\n        dragState = parent.dragState;\n\n    if (dragState.isUp) {\n      if (parent.outOfBounds) {\n        nextState = 'BACK';\n      } else if (parent.slidingEnable) {\n        nextState = 'SLIDE';\n      } else {\n        nextState = 'IDLE';\n      }\n    }\n\n    return nextState;\n  }\n\n  update_DRAG(time, delta) {\n    var parent = this.parent,\n        dragState = parent.dragState;\n\n    if (dragState.justMoved) {\n      parent.dragging();\n    }\n\n    this.next();\n  } // DRAG    \n  // SLIDE -> DRAG|IDLE\n\n\n  next_SLIDE() {\n    var nextState,\n        parent = this.parent,\n        dragState = parent.dragState;\n\n    if (dragState.isDown) {\n      nextState = 'DRAG';\n    } else if (!parent.isSliding) {\n      nextState = 'IDLE';\n    }\n\n    return nextState;\n  }\n\n  enter_SLIDE() {\n    this.parent.onSliding();\n  }\n\n  exit_SLIDE() {\n    this.parent.stop();\n  }\n\n  update_SLIDE(time, delta) {\n    this.parent.sliding(time, delta);\n    this.next();\n  } // SLIDE    \n  // BACK -> DRAG|IDLE\n\n\n  next_BACK() {\n    var nextState,\n        parent = this.parent,\n        dragState = parent.dragState;\n\n    if (dragState.isDown) {\n      nextState = 'DRAG';\n    } else if (!parent.isPullBack) {\n      nextState = 'IDLE';\n    }\n\n    return nextState;\n  }\n\n  enter_BACK() {\n    this.parent.onPullBack();\n  }\n\n  exit_BACK() {\n    this.parent.stop();\n  }\n\n  update_BACK(time, delta) {\n    this.parent.pullBack(time, delta);\n    this.next();\n  } // BACK\n\n\n}\n\nexport default State;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/input/scroller/State.js"],"names":["FSM","State","constructor","parent","config","init","start","next_IDLE","nextState","dragState","isDown","dragThreshold","update_IDLE","time","delta","next","next_DRAGBEGIN","pointer","getDistance","update_DRAGBEGIN","next_DRAG","isUp","outOfBounds","slidingEnable","update_DRAG","justMoved","dragging","next_SLIDE","isSliding","enter_SLIDE","onSliding","exit_SLIDE","stop","update_SLIDE","sliding","next_BACK","isPullBack","enter_BACK","onPullBack","exit_BACK","update_BACK","pullBack"],"mappings":"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","sourcesContent":["import FSM from '../../fsm.js';\r\n\r\nclass State extends FSM {\r\n    constructor(parent, config) {\r\n        super(config);\r\n        this.parent = parent;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.start('IDLE');\r\n    }\r\n\r\n    // IDLE -> DRAGBEGIN|DRAG\r\n    next_IDLE() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = (parent.dragThreshold === 0) ? 'DRAG' : 'DRAGBEGIN';\r\n        }\r\n        return nextState;\r\n    }\r\n    update_IDLE(time, delta) {\r\n        this.next();\r\n    }\r\n    // IDLE\r\n\r\n    // DRAGBEGIN -> DRAG|IDLE\r\n    next_DRAGBEGIN() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = (dragState.pointer.getDistance() >= parent.dragThreshold) ? 'DRAG' : 'DRAGBEGIN';\r\n        } else { // dragState.isUp\r\n            nextState = 'IDLE';\r\n        }\r\n        return nextState;\r\n    }\r\n    update_DRAGBEGIN(time, delta) {\r\n        this.next();\r\n    }\r\n    // DRAGBEGIN\r\n\r\n    // DRAG -> BACK|SLIDE|IDLE\r\n    next_DRAG() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isUp) {\r\n            if (parent.outOfBounds) {\r\n                nextState = 'BACK';\r\n            } else if (parent.slidingEnable) {\r\n                nextState = 'SLIDE';\r\n            } else {\r\n                nextState = 'IDLE';\r\n            }\r\n        }\r\n        return nextState;\r\n    }\r\n    update_DRAG(time, delta) {\r\n        var parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.justMoved) {\r\n            parent.dragging();\r\n        }\r\n        this.next();\r\n    }\r\n    // DRAG    \r\n\r\n    // SLIDE -> DRAG|IDLE\r\n    next_SLIDE() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = 'DRAG';\r\n        } else if (!parent.isSliding) {\r\n            nextState = 'IDLE';\r\n        }\r\n        return nextState;\r\n    }\r\n    enter_SLIDE() {\r\n        this.parent.onSliding();\r\n    }\r\n    exit_SLIDE() {\r\n        this.parent.stop();\r\n    }\r\n    update_SLIDE(time, delta) {\r\n        this.parent.sliding(time, delta);\r\n        this.next();\r\n    }\r\n    // SLIDE    \r\n\r\n    // BACK -> DRAG|IDLE\r\n    next_BACK() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = 'DRAG';\r\n        } else if (!parent.isPullBack) {\r\n            nextState = 'IDLE';\r\n        }\r\n        return nextState;\r\n    }\r\n    enter_BACK() {\r\n        this.parent.onPullBack();\r\n    }\r\n    exit_BACK() {\r\n        this.parent.stop();\r\n    }\r\n    update_BACK(time, delta) {\r\n        this.parent.pullBack(time, delta);\r\n        this.next();\r\n    }\r\n    // BACK\r\n}\r\n\r\nexport default State;"]},"metadata":{},"sourceType":"module"}