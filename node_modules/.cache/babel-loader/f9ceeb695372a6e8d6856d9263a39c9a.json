{"ast":null,"code":"import{BaseURL}from'../../Site/Utilities/UserUtil';// Handles User Sign Up Fetch\nexport function handleSignUpForm(e,state,login){e.preventDefault();fetch(BaseURL(\"profile/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(state)}).then(function(resp){return resp.json();}).then(function(data){var user=data.user,token=data.token;// SETS USER STATE\nlogin(user);// Saves Token to Local Storage\nlocalStorage.token=token;});};// Handles User Login Fetch\nexport function handleLoginForm(e,state,login){e.preventDefault();fetch(BaseURL('profile/login'),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(state)}).then(function(resp){return resp.json();}).then(function(data){// console.log(`DATA:`, data)\nvar user=data.user,token=data.token;// SETS USER STATE\nlogin(user);// Saves Token to Local Storage\nlocalStorage.token=token;});}// Handles User Login Persistence\nexport function handleLoginPersist(url,login,token){fetch(BaseURL(url),{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(resp){return resp.json();}).then(function(data){// SETS USER STATE\nif(!data.error){login(data);}});}// Handles User Update Fetch\nexport function handleUpdateForm(e,state,token){e.preventDefault();fetch(BaseURL('profile/edit'),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify(state)}).then(function(resp){return resp.json();}).then(console.log);}// Handles User Delete Fetch\nexport function handleDeleteUser(e,token,logout){e.preventDefault();fetch(BaseURL('profile/delete'),{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(console.log);return logout;}","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/Original/frontend/src/components/Site/Fetch_Requests/User_Fetch_Requests.js"],"names":["BaseURL","handleSignUpForm","e","state","login","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","data","user","token","localStorage","handleLoginForm","handleLoginPersist","url","error","handleUpdateForm","console","log","handleDeleteUser","logout"],"mappings":"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","sourcesContent":["import { BaseURL } from '../../Site/Utilities/UserUtil';\n\n// Handles User Sign Up Fetch\nexport function handleSignUpForm(e, state, login){\n    e.preventDefault();\n\n    fetch(BaseURL(`profile/signup`), {\n        method: \"POST\",\n        headers:{\n            \"Content-Type\": \"application/json\"\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(data => {\n        const {user, token} = data\n\n        // SETS USER STATE\n        login(user)\n        \n        // Saves Token to Local Storage\n        localStorage.token = token\n    })\n};\n\n// Handles User Login Fetch\nexport function handleLoginForm(e, state, login){\n    e.preventDefault();\n\n    fetch(BaseURL('profile/login'), {\n        method: \"POST\",\n        headers:{\n            \"Content-Type\": \"application/json\"\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(data => {\n        // console.log(`DATA:`, data)\n        const { user, token } = data\n        // SETS USER STATE\n        login(user)\n        // Saves Token to Local Storage\n        localStorage.token = token;\n    })\n}\n\n// Handles User Login Persistence\nexport function handleLoginPersist(url, login, token){\n    fetch(BaseURL(url),{\n        headers: {\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then(resp => resp.json())\n    .then(data => {\n    // SETS USER STATE\n        if(!data.error){\n            login(data)\n        }\n\n    })\n}\n\n// Handles User Update Fetch\nexport function handleUpdateForm(e, state, token){\n    e.preventDefault();\n\n    fetch(BaseURL('profile/edit'), {\n        method: \"PATCH\",\n        headers:{\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(console.log)\n}\n\n// Handles User Delete Fetch\nexport function handleDeleteUser(e, token, logout){\n    e.preventDefault();\n    \n    fetch(BaseURL('profile/delete'),{\n        method: \"DELETE\",\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        }\n    })\n    .then(console.log)\n\n    return logout;\n}"]},"metadata":{},"sourceType":"module"}