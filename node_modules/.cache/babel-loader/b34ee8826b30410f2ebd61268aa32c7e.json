{"ast":null,"code":"import GetExpandedChildWidth from './GetExpandedChildWidth.js';\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\nimport ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\nimport GlobZone from '../../../plugins/utils/actions/GlobZone.js';\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\n\nvar Layout = function (parent, newWidth, newHeight) {\n  // Skip hidden or !dirty sizer\n  if (this.rexSizer.hidden || !this.dirty) {\n    return this;\n  }\n\n  this.preLayout(parent);\n  var totalColumnProportions = this.totalColumnProportions;\n  var totalRowProportions = this.totalRowProportions; // Set size\n\n  if (newWidth === undefined) {\n    if (parent && totalColumnProportions > 0) {\n      // Expand to parent width\n      var padding = this.rexSizer.padding;\n      newWidth = parent.width - padding.left - padding.right;\n    } else {\n      newWidth = Math.max(this.childrenWidth, this.minWidth);\n    }\n  }\n\n  if (newHeight === undefined) {\n    if (parent && totalRowProportions > 0) {\n      // Expand to parent height\n      var padding = this.rexSizer.padding;\n      newHeight = parent.height - padding.top - padding.bottom;\n    } else {\n      newHeight = Math.max(this.childrenHeight, this.minHeight);\n    }\n  }\n\n  this.resize(newWidth, newHeight);\n  var proportionWidthLength;\n\n  if (totalColumnProportions > 0) {\n    proportionWidthLength = (this.width - this.childrenWidth) / totalColumnProportions;\n  } else {\n    proportionWidthLength = 0;\n  }\n\n  var proportionHeightLength;\n\n  if (totalRowProportions > 0) {\n    proportionHeightLength = (this.height - this.childrenHeight) / totalRowProportions;\n  } else {\n    proportionHeightLength = 0;\n  } // Layout children\n\n\n  var child, childConfig, padding;\n  var startX = this.innerLeft,\n      startY = this.innerTop;\n  var itemX = startX,\n      itemY = startY;\n  var x, y, width, height; // Align zone\n\n  var childWidth, childHeight; // Layout grid children\n\n  var columnSpace = this.space.column;\n  var rowSpace = this.space.row;\n  var colProportion, rowProportion, colWidth, rowHeight;\n\n  for (var rowIndex = 0; rowIndex < this.rowCount; rowIndex++) {\n    rowProportion = this.rowProportions[rowIndex];\n    rowHeight = rowProportion === 0 ? this.rowHeight[rowIndex] : rowProportion * proportionHeightLength;\n    itemX = startX;\n\n    for (var columnIndex = 0; columnIndex < this.columnCount; columnIndex++) {\n      colProportion = this.columnProportions[columnIndex];\n      colWidth = colProportion === 0 ? this.columnWidth[columnIndex] : colProportion * proportionWidthLength;\n      child = this.getChildAt(columnIndex, rowIndex);\n\n      if (!child || child.rexSizer.hidden) {\n        itemX += colWidth + columnSpace[columnIndex];\n        continue;\n      }\n\n      childWidth = GetExpandedChildWidth(child, colWidth);\n      childHeight = GetExpandedChildHeight(child, rowHeight);\n\n      if (child.isRexSizer) {\n        child.layout(this, childWidth, childHeight);\n      } else {\n        ResizeGameObject(child, childWidth, childHeight);\n      }\n\n      childConfig = child.rexSizer;\n      padding = childConfig.padding;\n      x = itemX + padding.left;\n      width = colWidth - padding.left - padding.right;\n      y = itemY + padding.top;\n      height = rowHeight - padding.top - padding.bottom;\n      GlobZone.setPosition(x, y).setSize(width, height);\n      AlignIn(child, GlobZone, childConfig.align);\n      this.resetChildPositionState(child);\n      itemX += colWidth + columnSpace[columnIndex];\n    }\n\n    itemY += rowHeight + rowSpace[rowIndex];\n  } // Layout background children\n\n\n  this.layoutBackgrounds();\n  return this.postLayout();\n};\n\nexport default Layout;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/gridsizer/Layout.js"],"names":["GetExpandedChildWidth","GetExpandedChildHeight","ResizeGameObject","GlobZone","AlignIn","Layout","parent","newWidth","newHeight","rexSizer","hidden","dirty","preLayout","totalColumnProportions","totalRowProportions","undefined","padding","width","left","right","Math","max","childrenWidth","minWidth","height","top","bottom","childrenHeight","minHeight","resize","proportionWidthLength","proportionHeightLength","child","childConfig","startX","innerLeft","startY","innerTop","itemX","itemY","x","y","childWidth","childHeight","columnSpace","space","column","rowSpace","row","colProportion","rowProportion","colWidth","rowHeight","rowIndex","rowCount","rowProportions","columnIndex","columnCount","columnProportions","columnWidth","getChildAt","isRexSizer","layout","setPosition","setSize","align","resetChildPositionState","layoutBackgrounds","postLayout"],"mappings":"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","sourcesContent":["import GetExpandedChildWidth from './GetExpandedChildWidth.js';\r\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\r\nimport ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport GlobZone from '../../../plugins/utils/actions/GlobZone.js';\r\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\r\n\r\nvar Layout = function (parent, newWidth, newHeight) {\r\n    // Skip hidden or !dirty sizer\r\n    if (this.rexSizer.hidden || (!this.dirty)) {\r\n        return this;\r\n    }\r\n\r\n    this.preLayout(parent);\r\n\r\n    var totalColumnProportions = this.totalColumnProportions;\r\n    var totalRowProportions = this.totalRowProportions;\r\n\r\n    // Set size\r\n    if (newWidth === undefined) {\r\n        if (parent && (totalColumnProportions > 0)) { // Expand to parent width\r\n            var padding = this.rexSizer.padding;\r\n            newWidth = parent.width - padding.left - padding.right;\r\n        } else {\r\n            newWidth = Math.max(this.childrenWidth, this.minWidth);\r\n        }\r\n    }\r\n    if (newHeight === undefined) {\r\n        if (parent && (totalRowProportions > 0)) { // Expand to parent height\r\n            var padding = this.rexSizer.padding;\r\n            newHeight = parent.height - padding.top - padding.bottom;\r\n        } else {\r\n            newHeight = Math.max(this.childrenHeight, this.minHeight);\r\n        }\r\n    }\r\n    this.resize(newWidth, newHeight);\r\n\r\n    var proportionWidthLength;\r\n    if (totalColumnProportions > 0) {\r\n        proportionWidthLength = (this.width - this.childrenWidth) / totalColumnProportions;\r\n    } else {\r\n        proportionWidthLength = 0;\r\n    }\r\n    var proportionHeightLength;\r\n    if (totalRowProportions > 0) {\r\n        proportionHeightLength = (this.height - this.childrenHeight) / totalRowProportions;\r\n    } else {\r\n        proportionHeightLength = 0;\r\n    }\r\n\r\n    // Layout children\r\n    var child, childConfig, padding;\r\n    var startX = this.innerLeft,\r\n        startY = this.innerTop;\r\n    var itemX = startX,\r\n        itemY = startY;\r\n    var x, y, width, height; // Align zone\r\n    var childWidth, childHeight;\r\n    // Layout grid children\r\n    var columnSpace = this.space.column;\r\n    var rowSpace = this.space.row;\r\n    var colProportion, rowProportion,\r\n        colWidth, rowHeight;\r\n    for (var rowIndex = 0; rowIndex < this.rowCount; rowIndex++) {\r\n        rowProportion = this.rowProportions[rowIndex];\r\n        rowHeight = (rowProportion === 0) ? this.rowHeight[rowIndex] : (rowProportion * proportionHeightLength);\r\n\r\n        itemX = startX;\r\n        for (var columnIndex = 0; columnIndex < this.columnCount; columnIndex++) {\r\n            colProportion = this.columnProportions[columnIndex];\r\n            colWidth = (colProportion === 0) ? this.columnWidth[columnIndex] : (colProportion * proportionWidthLength);\r\n\r\n            child = this.getChildAt(columnIndex, rowIndex);\r\n            if ((!child) || (child.rexSizer.hidden)) {\r\n                itemX += (colWidth + columnSpace[columnIndex]);\r\n                continue;\r\n            }\r\n\r\n            childWidth = GetExpandedChildWidth(child, colWidth);\r\n            childHeight = GetExpandedChildHeight(child, rowHeight);\r\n            if (child.isRexSizer) {\r\n                child.layout(this, childWidth, childHeight);\r\n            } else {\r\n                ResizeGameObject(child, childWidth, childHeight);\r\n            }\r\n\r\n            childConfig = child.rexSizer;\r\n            padding = childConfig.padding;\r\n            x = (itemX + padding.left);\r\n            width = colWidth - padding.left - padding.right;\r\n            y = (itemY + padding.top);\r\n            height = rowHeight - padding.top - padding.bottom;\r\n\r\n            GlobZone.setPosition(x, y).setSize(width, height);\r\n            AlignIn(child, GlobZone, childConfig.align);\r\n            this.resetChildPositionState(child);\r\n\r\n            itemX += (colWidth + columnSpace[columnIndex]);\r\n        }\r\n\r\n        itemY += (rowHeight + rowSpace[rowIndex]);\r\n    }\r\n\r\n\r\n    // Layout background children\r\n    this.layoutBackgrounds();\r\n\r\n    return this.postLayout();\r\n}\r\n\r\nexport default Layout;"]},"metadata":{},"sourceType":"module"}