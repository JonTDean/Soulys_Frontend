{"ast":null,"code":"const GetValue = Phaser.Utils.Objects.GetValue;\n\nvar InitData = function (config, initialValue) {\n  if (initialValue === undefined) {\n    initialValue = false;\n  }\n\n  var dataManager = GetValue(config, 'dataManager', undefined);\n  var setValueCallback = GetValue(config, 'setValueCallback', undefined);\n  var setValueCallbackScope = GetValue(config, 'setValueCallbackScope', undefined);\n\n  if (dataManager === undefined) {\n    this.setDataEnabled();\n    dataManager = this.data;\n  }\n\n  this.buttons.forEach(function (button) {\n    var key = button.name;\n\n    if (setValueCallback) {\n      dataManager.events.on(`changedata-${key}`, function (parent, value, previousValue) {\n        if (setValueCallbackScope) {\n          setValueCallback.call(setValueCallbackScope, button, value, previousValue);\n        } else {\n          setValueCallback(button, value, previousValue);\n        }\n      }, this);\n    }\n\n    dataManager.set(key, undefined);\n    dataManager.set(key, initialValue); // Trigger data event 'changedata'\n  });\n  this._dataManager = dataManager;\n};\n\nexport default InitData;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/utils/buttons/types/InitData.js"],"names":["GetValue","Phaser","Utils","Objects","InitData","config","initialValue","undefined","dataManager","setValueCallback","setValueCallbackScope","setDataEnabled","data","buttons","forEach","button","key","name","events","on","parent","value","previousValue","call","set","_dataManager"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,MAAM,CAACC,KAAP,CAAaC,OAAb,CAAqBH,QAAtC;;AAEA,IAAII,QAAQ,GAAG,UAAUC,MAAV,EAAkBC,YAAlB,EAAgC;AAC3C,MAAIA,YAAY,KAAKC,SAArB,EAAgC;AAC5BD,IAAAA,YAAY,GAAG,KAAf;AACH;;AAED,MAAIE,WAAW,GAAGR,QAAQ,CAACK,MAAD,EAAS,aAAT,EAAwBE,SAAxB,CAA1B;AACA,MAAIE,gBAAgB,GAAGT,QAAQ,CAACK,MAAD,EAAS,kBAAT,EAA6BE,SAA7B,CAA/B;AACA,MAAIG,qBAAqB,GAAGV,QAAQ,CAACK,MAAD,EAAS,uBAAT,EAAkCE,SAAlC,CAApC;;AAEA,MAAIC,WAAW,KAAKD,SAApB,EAA+B;AAC3B,SAAKI,cAAL;AACAH,IAAAA,WAAW,GAAG,KAAKI,IAAnB;AACH;;AAED,OAAKC,OAAL,CAAaC,OAAb,CAAqB,UAAUC,MAAV,EAAkB;AACnC,QAAIC,GAAG,GAAGD,MAAM,CAACE,IAAjB;;AAEA,QAAIR,gBAAJ,EAAsB;AAClBD,MAAAA,WAAW,CAACU,MAAZ,CAAmBC,EAAnB,CAAuB,cAAaH,GAAI,EAAxC,EAA2C,UAAUI,MAAV,EAAkBC,KAAlB,EAAyBC,aAAzB,EAAwC;AAC/E,YAAIZ,qBAAJ,EAA2B;AACvBD,UAAAA,gBAAgB,CAACc,IAAjB,CAAsBb,qBAAtB,EAA6CK,MAA7C,EAAqDM,KAArD,EAA4DC,aAA5D;AACH,SAFD,MAEO;AACHb,UAAAA,gBAAgB,CAACM,MAAD,EAASM,KAAT,EAAgBC,aAAhB,CAAhB;AACH;AACJ,OAND,EAMG,IANH;AAOH;;AAEDd,IAAAA,WAAW,CAACgB,GAAZ,CAAgBR,GAAhB,EAAqBT,SAArB;AACAC,IAAAA,WAAW,CAACgB,GAAZ,CAAgBR,GAAhB,EAAqBV,YAArB,EAdmC,CAcC;AACvC,GAfD;AAgBA,OAAKmB,YAAL,GAAoBjB,WAApB;AACH,CA/BD;;AAiCA,eAAeJ,QAAf","sourcesContent":["const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar InitData = function (config, initialValue) {\r\n    if (initialValue === undefined) {\r\n        initialValue = false;\r\n    }\r\n\r\n    var dataManager = GetValue(config, 'dataManager', undefined);\r\n    var setValueCallback = GetValue(config, 'setValueCallback', undefined);\r\n    var setValueCallbackScope = GetValue(config, 'setValueCallbackScope', undefined);\r\n\r\n    if (dataManager === undefined) {\r\n        this.setDataEnabled();\r\n        dataManager = this.data;\r\n    }\r\n\r\n    this.buttons.forEach(function (button) {\r\n        var key = button.name;\r\n\r\n        if (setValueCallback) {\r\n            dataManager.events.on(`changedata-${key}`, function (parent, value, previousValue) {\r\n                if (setValueCallbackScope) {\r\n                    setValueCallback.call(setValueCallbackScope, button, value, previousValue);\r\n                } else {\r\n                    setValueCallback(button, value, previousValue);\r\n                }\r\n            }, this)\r\n        }\r\n\r\n        dataManager.set(key, undefined);\r\n        dataManager.set(key, initialValue); // Trigger data event 'changedata'\r\n    })\r\n    this._dataManager = dataManager;\r\n}\r\n\r\nexport default InitData;\r\n"]},"metadata":{},"sourceType":"module"}