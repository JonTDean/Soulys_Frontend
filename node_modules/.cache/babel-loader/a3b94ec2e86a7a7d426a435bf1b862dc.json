{"ast":null,"code":"const Graphics = Phaser.GameObjects.Graphics;\n\nclass DefaultMask extends Graphics {\n  constructor(parent, shape, padding) {\n    if (shape === undefined) {\n      shape = 0;\n    }\n\n    if (typeof shape === 'string') {\n      shape = SHAPEMODE[shape];\n    }\n\n    if (padding === undefined) {\n      padding = 0;\n    }\n\n    super(parent.scene);\n    this.parent = parent;\n    this.shape = shape;\n    this.padding = padding;\n    this.setPosition().resize(); // Don't add it to display list\n    // Graphics does not have origin, bounds\n  }\n\n  destroy() {\n    this.parent = undefined;\n    super.destroy();\n    return this;\n  }\n\n  setPosition(x, y) {\n    var parent = this.parent;\n\n    if (x === undefined) {\n      x = parent.x;\n    }\n\n    if (y === undefined) {\n      y = parent.y;\n    }\n\n    super.setPosition(x, y);\n    return this;\n  }\n\n  resize(width, height, padding) {\n    var parent = this.parent;\n\n    if (width === undefined) {\n      width = parent.width;\n    }\n\n    if (height === undefined) {\n      height = parent.height;\n    }\n\n    if (padding === undefined) {\n      padding = this.padding;\n    }\n\n    if (this.widthSave === width && this.heightSave === height && this.paddingSave === padding) {\n      return this;\n    }\n\n    this.clear().fillStyle(0xffffff);\n\n    switch (this.shape) {\n      case 1:\n        // circle\n        var radius = Math.min(width, height) / 2;\n        this.fillCircle(0, 0, radius + padding);\n        break;\n\n      default:\n        // 0|'rectangle'\n        this.fillRect(-(width * parent.originX) - padding, -(height * parent.originY) - padding, width + 2 * padding, height + 2 * padding);\n        break;\n    }\n\n    this.widthSave = width;\n    this.heightSave = height;\n    this.paddingSave = padding;\n    return this;\n  }\n\n}\n\nconst SHAPEMODE = {\n  rectangle: 0,\n  circle: 1\n};\nexport default DefaultMask;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/utils/mask/DefaultMask.js"],"names":["Graphics","Phaser","GameObjects","DefaultMask","constructor","parent","shape","padding","undefined","SHAPEMODE","scene","setPosition","resize","destroy","x","y","width","height","widthSave","heightSave","paddingSave","clear","fillStyle","radius","Math","min","fillCircle","fillRect","originX","originY","rectangle","circle"],"mappings":"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","sourcesContent":["const Graphics = Phaser.GameObjects.Graphics;\r\n\r\nclass DefaultMask extends Graphics {\r\n    constructor(parent, shape, padding) {\r\n        if (shape === undefined) {\r\n            shape = 0;\r\n        }\r\n        if (typeof (shape) === 'string') {\r\n            shape = SHAPEMODE[shape];\r\n        }\r\n        if (padding === undefined) {\r\n            padding = 0;\r\n        }\r\n\r\n        super(parent.scene);\r\n        this.parent = parent;\r\n        this.shape = shape;\r\n        this.padding = padding;\r\n        this.setPosition().resize();\r\n        // Don't add it to display list\r\n        // Graphics does not have origin, bounds\r\n    }\r\n\r\n    destroy() {\r\n        this.parent = undefined;\r\n        super.destroy();\r\n        return this;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        var parent = this.parent;\r\n        if (x === undefined) {\r\n            x = parent.x;\r\n        }\r\n        if (y === undefined) {\r\n            y = parent.y;\r\n        }\r\n        super.setPosition(x, y);\r\n        return this;\r\n    }\r\n\r\n    resize(width, height, padding) {\r\n        var parent = this.parent;\r\n        if (width === undefined) {\r\n            width = parent.width;\r\n        }\r\n        if (height === undefined) {\r\n            height = parent.height;\r\n        }\r\n        if (padding === undefined) {\r\n            padding = this.padding;\r\n        }\r\n        if ((this.widthSave === width) && (this.heightSave === height) && (this.paddingSave === padding)) {\r\n            return this;\r\n        }\r\n\r\n        this.clear().fillStyle(0xffffff);\r\n        switch (this.shape) {\r\n            case 1: // circle\r\n                var radius = Math.min(width, height) / 2;\r\n                this.fillCircle(\r\n                    0,\r\n                    0,\r\n                    radius + padding\r\n                );\r\n                break;\r\n            default: // 0|'rectangle'\r\n                this.fillRect(\r\n                    -(width * parent.originX) - padding,\r\n                    -(height * parent.originY) - padding,\r\n                    width + (2 * padding),\r\n                    height + (2 * padding)\r\n                );\r\n                break;\r\n        }\r\n        this.widthSave = width;\r\n        this.heightSave = height;\r\n        this.paddingSave = padding;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst SHAPEMODE = {\r\n    rectangle: 0,\r\n    circle: 1,\r\n}\r\nexport default DefaultMask;\r\n"]},"metadata":{},"sourceType":"module"}