{"ast":null,"code":"import TweenBase from '../../utils/tween/TweenBase.js';\nimport GetFaceUpdatingCallback from './GetFaceUpdatingCallback.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\n\nclass Flip extends TweenBase {\n  constructor(gameObject, config) {\n    super(gameObject, {\n      eventEmitter: true\n    });\n    this.gameObject = gameObject;\n    this.resetFromJSON(config);\n  }\n\n  resetFromJSON(o) {\n    this.setOrientation(GetValue(o, 'orientation', 0));\n    this.setDelay(GetAdvancedValue(o, 'delay', 0));\n    this.setDuration(GetAdvancedValue(o, 'duration', 500));\n    this.setEase(GetValue(o, 'ease', 'Sine'));\n    this.setFrontFace(GetValue(o, 'front', undefined));\n    this.setBackFace(GetValue(o, 'back', undefined));\n    this.setFace(GetValue(o, 'face', 0));\n    return this;\n  }\n\n  shutdown() {\n    super.shutdown();\n    this.gameObject = undefined;\n    return this;\n  }\n\n  setOrientation(orientation) {\n    if (typeof orientation === 'string') {\n      orientation = ORIENTATIONMODE[orientation];\n    }\n\n    this.orientation = orientation;\n    return this;\n  }\n\n  setDelay(time) {\n    this.delay = time;\n    return this;\n  }\n\n  setDuration(time) {\n    this.duration = time;\n    return this;\n  }\n\n  setEase(ease) {\n    if (ease === undefined) {\n      ease = 'Linear';\n    }\n\n    this.ease = ease;\n    return this;\n  }\n\n  get face() {\n    return this._face;\n  }\n\n  set face(face) {\n    if (typeof face === 'string') {\n      face = FACEMODE[face];\n    }\n\n    this._face = face;\n\n    if (face === 0 && this.frontFaceCallback) {\n      this.frontFaceCallback(this.gameObject);\n    } else if (face === 1 && this.backFaceCallback) {\n      this.backFaceCallback(this.gameObject);\n    }\n  }\n\n  setFace(face) {\n    this.face = face;\n    return this;\n  }\n\n  toggleFace() {\n    var newFace = this.face === 0 ? 1 : 0;\n    this.setFace(newFace);\n    return this;\n  }\n\n  setFrontFace(key, frame) {\n    this.frontFaceCallback = GetFaceUpdatingCallback(key, frame, this.gameObject);\n    return this;\n  }\n\n  setBackFace(key, frame) {\n    this.backFaceCallback = GetFaceUpdatingCallback(key, frame, this.gameObject);\n    return this;\n  }\n\n  start() {\n    if (this.isRunning) {\n      return this;\n    }\n\n    var config = {\n      targets: this.gameObject,\n      delay: this.delay,\n      duration: this.duration / 2,\n      ease: this.ease,\n      yoyo: true,\n      repeat: 0,\n      onYoyo: this.toggleFace,\n      onYoyoScope: this\n    };\n    var propKey = this.orientation === 0 ? 'scaleX' : 'scaleY';\n    config[propKey] = {\n      start: 1,\n      to: 0\n    };\n    super.start(config);\n    return this;\n  }\n\n  flip(duration) {\n    if (this.isRunning) {\n      return this;\n    }\n\n    if (duration !== undefined) {\n      this.setDuration(duration);\n    }\n\n    this.start();\n    return this;\n  }\n\n}\n\nconst ORIENTATIONMODE = {\n  x: 0,\n  horizontal: 0,\n  y: 1,\n  vertical: 1\n};\nconst FACEMODE = {\n  front: 0,\n  back: 1\n};\nexport default Flip;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/behaviors/flip/Flip.js"],"names":["TweenBase","GetFaceUpdatingCallback","GetValue","Phaser","Utils","Objects","GetAdvancedValue","Flip","constructor","gameObject","config","eventEmitter","resetFromJSON","o","setOrientation","setDelay","setDuration","setEase","setFrontFace","undefined","setBackFace","setFace","shutdown","orientation","ORIENTATIONMODE","time","delay","duration","ease","face","_face","FACEMODE","frontFaceCallback","backFaceCallback","toggleFace","newFace","key","frame","start","isRunning","targets","yoyo","repeat","onYoyo","onYoyoScope","propKey","to","flip","x","horizontal","y","vertical","front","back"],"mappings":"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","sourcesContent":["import TweenBase from '../../utils/tween/TweenBase.js';\r\nimport GetFaceUpdatingCallback from './GetFaceUpdatingCallback.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\n\r\nclass Flip extends TweenBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, { eventEmitter: true });\r\n        this.gameObject = gameObject;\r\n\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setOrientation(GetValue(o, 'orientation', 0));\r\n        this.setDelay(GetAdvancedValue(o, 'delay', 0));\r\n        this.setDuration(GetAdvancedValue(o, 'duration', 500));\r\n        this.setEase(GetValue(o, 'ease', 'Sine'));\r\n\r\n        this.setFrontFace(GetValue(o, 'front', undefined));\r\n        this.setBackFace(GetValue(o, 'back', undefined));\r\n        this.setFace(GetValue(o, 'face', 0));\r\n        return this;\r\n    }\r\n\r\n    shutdown() {\r\n        super.shutdown();\r\n        this.gameObject = undefined;\r\n        return this;\r\n    }\r\n\r\n    setOrientation(orientation) {\r\n        if (typeof (orientation) === 'string') {\r\n            orientation = ORIENTATIONMODE[orientation];\r\n        }\r\n        this.orientation = orientation;\r\n        return this;\r\n    }\r\n\r\n    setDelay(time) {\r\n        this.delay = time;\r\n        return this;\r\n    }\r\n\r\n    setDuration(time) {\r\n        this.duration = time;\r\n        return this;\r\n    }\r\n\r\n    setEase(ease) {\r\n        if (ease === undefined) {\r\n            ease = 'Linear';\r\n        }\r\n        this.ease = ease;\r\n        return this;\r\n    }\r\n\r\n    get face() {\r\n        return this._face;\r\n    }\r\n\r\n    set face(face) {\r\n        if (typeof (face) === 'string') {\r\n            face = FACEMODE[face];\r\n        }\r\n        this._face = face;\r\n        if ((face === 0) && this.frontFaceCallback) {\r\n            this.frontFaceCallback(this.gameObject);\r\n        } else if ((face === 1) && this.backFaceCallback) {\r\n            this.backFaceCallback(this.gameObject);\r\n        }\r\n    }\r\n\r\n    setFace(face) {\r\n        this.face = face;\r\n        return this;\r\n    }\r\n\r\n    toggleFace() {\r\n        var newFace = (this.face === 0) ? 1 : 0;\r\n        this.setFace(newFace);\r\n        return this;\r\n    }\r\n\r\n    setFrontFace(key, frame) {\r\n        this.frontFaceCallback = GetFaceUpdatingCallback(key, frame, this.gameObject);\r\n        return this;\r\n    }\r\n\r\n    setBackFace(key, frame) {\r\n        this.backFaceCallback = GetFaceUpdatingCallback(key, frame, this.gameObject);\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        var config = {\r\n            targets: this.gameObject,\r\n            delay: this.delay,\r\n            duration: this.duration / 2,\r\n            ease: this.ease,\r\n            yoyo: true,\r\n            repeat: 0,\r\n\r\n            onYoyo: this.toggleFace,\r\n            onYoyoScope: this\r\n        }\r\n\r\n        var propKey = (this.orientation === 0) ? 'scaleX' : 'scaleY';\r\n        config[propKey] = { start: 1, to: 0 };\r\n\r\n        super.start(config);\r\n        return this;\r\n    }\r\n\r\n    flip(duration) {\r\n        if (this.isRunning) {\r\n            return this;\r\n        }\r\n        if (duration !== undefined) {\r\n            this.setDuration(duration);\r\n        }\r\n        this.start();\r\n        return this;\r\n    }\r\n}\r\n\r\nconst ORIENTATIONMODE = {\r\n    x: 0,\r\n    horizontal: 0,\r\n    y: 1,\r\n    vertical: 1,\r\n}\r\n\r\nconst FACEMODE = {\r\n    front: 0,\r\n    back: 1,\r\n}\r\n\r\nexport default Flip;"]},"metadata":{},"sourceType":"module"}