{"ast":null,"code":"import { BaseURL } from '../../Site/Utilities/UserUtil'; // Handles User Sign Up Fetch\n\nexport function handleSignUpForm(e, state, login) {\n  e.preventDefault();\n  fetch(BaseURL(`users`), {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(state)\n  }).then(resp => resp.json()).then(data => {\n    const {\n      newUser,\n      token\n    } = data; // SETS USER STATE\n\n    login(newUser); // Saves Token to Local Storage\n\n    localStorage.userId = newUser.token;\n  });\n}\n; // Handles User Login Fetch\n\nexport function handleLoginForm(e, state, login) {\n  e.preventDefault();\n  fetch(BaseURL('login'), {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(state)\n  }).then(resp => resp.json()).then(data => {\n    // console.log(`DATA:`, data)\n    const {\n      user,\n      token\n    } = data; // SETS USER STATE\n\n    login(user); // Saves Token to Local Storage\n\n    localStorage.token = token;\n  });\n} // Handles User Login Persistence\n\nexport function handleLoginPersist(url, login, token) {\n  fetch(BaseURL(url), {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(resp => resp.json()).then(loggedInUser => {\n    // SETS USER STATE\n    login(loggedInUser);\n  });\n} // Handles User Delete Fetch\n// Handles User Update Fetch","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/src/components/Site/Fetch_Requests/User_Fetch_Requests.js"],"names":["BaseURL","handleSignUpForm","e","state","login","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","data","newUser","token","localStorage","userId","handleLoginForm","user","handleLoginPersist","url","loggedInUser"],"mappings":"AAAA,SAASA,OAAT,QAAwB,+BAAxB,C,CAEA;;AACA,OAAO,SAASC,gBAAT,CAA0BC,CAA1B,EAA6BC,KAA7B,EAAoCC,KAApC,EAA0C;AAC7CF,EAAAA,CAAC,CAACG,cAAF;AAEAC,EAAAA,KAAK,CAACN,OAAO,CAAE,OAAF,CAAR,EAAmB;AACpBO,IAAAA,MAAM,EAAE,MADY;AAEpBC,IAAAA,OAAO,EAAC;AACJ,sBAAgB;AADZ,KAFY;AAKpBC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeR,KAAf;AALe,GAAnB,CAAL,CAOCS,IAPD,CAOMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAPd,EAQCF,IARD,CAQMG,IAAI,IAAI;AACV,UAAM;AAACC,MAAAA,OAAD;AAAUC,MAAAA;AAAV,QAAmBF,IAAzB,CADU,CAEV;;AACAX,IAAAA,KAAK,CAACY,OAAD,CAAL,CAHU,CAKV;;AACAE,IAAAA,YAAY,CAACC,MAAb,GAAsBH,OAAO,CAACC,KAA9B;AACH,GAfD;AAgBH;AAAA,C,CAED;;AACA,OAAO,SAASG,eAAT,CAAyBlB,CAAzB,EAA4BC,KAA5B,EAAmCC,KAAnC,EAAyC;AAC5CF,EAAAA,CAAC,CAACG,cAAF;AAEAC,EAAAA,KAAK,CAACN,OAAO,CAAC,OAAD,CAAR,EAAmB;AACpBO,IAAAA,MAAM,EAAE,MADY;AAEpBC,IAAAA,OAAO,EAAC;AACJ,sBAAgB;AADZ,KAFY;AAKpBC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeR,KAAf;AALe,GAAnB,CAAL,CAOCS,IAPD,CAOMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAPd,EAQCF,IARD,CAQMG,IAAI,IAAI;AACV;AACA,UAAM;AAAEM,MAAAA,IAAF;AAAQJ,MAAAA;AAAR,QAAkBF,IAAxB,CAFU,CAGV;;AACAX,IAAAA,KAAK,CAACiB,IAAD,CAAL,CAJU,CAKV;;AACAH,IAAAA,YAAY,CAACD,KAAb,GAAqBA,KAArB;AACH,GAfD;AAgBH,C,CAED;;AACA,OAAO,SAASK,kBAAT,CAA4BC,GAA5B,EAAiCnB,KAAjC,EAAwCa,KAAxC,EAA8C;AACjDX,EAAAA,KAAK,CAACN,OAAO,CAACuB,GAAD,CAAR,EAAc;AACff,IAAAA,OAAO,EAAE;AACL,uBAAmB,UAASS,KAAM;AAD7B;AADM,GAAd,CAAL,CAKCL,IALD,CAKMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EALd,EAMCF,IAND,CAMMY,YAAY,IAAI;AACtB;AACIpB,IAAAA,KAAK,CAACoB,YAAD,CAAL;AACH,GATD;AAUH,C,CAED;AAEA","sourcesContent":["import { BaseURL } from '../../Site/Utilities/UserUtil';\n\n// Handles User Sign Up Fetch\nexport function handleSignUpForm(e, state, login){\n    e.preventDefault();\n\n    fetch(BaseURL(`users`), {\n        method: \"POST\",\n        headers:{\n            \"Content-Type\": \"application/json\"\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(data => {\n        const {newUser, token} = data\n        // SETS USER STATE\n        login(newUser)\n        \n        // Saves Token to Local Storage\n        localStorage.userId = newUser.token\n    })\n};\n\n// Handles User Login Fetch\nexport function handleLoginForm(e, state, login){\n    e.preventDefault();\n\n    fetch(BaseURL('login'), {\n        method: \"POST\",\n        headers:{\n            \"Content-Type\": \"application/json\"\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(data => {\n        // console.log(`DATA:`, data)\n        const { user, token } = data\n        // SETS USER STATE\n        login(user)\n        // Saves Token to Local Storage\n        localStorage.token = token;\n    })\n}\n\n// Handles User Login Persistence\nexport function handleLoginPersist(url, login, token){\n    fetch(BaseURL(url),{\n        headers: {\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then(resp => resp.json())\n    .then(loggedInUser => {\n    // SETS USER STATE\n        login(loggedInUser)\n    })\n}\n\n// Handles User Delete Fetch\n\n// Handles User Update Fetch"]},"metadata":{},"sourceType":"module"}