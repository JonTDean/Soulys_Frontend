{"ast":null,"code":"const GetValue = Phaser.Utils.Objects.GetValue;\n\nclass ImageManager {\n  constructor(textureManager) {\n    this.textureManager = textureManager;\n    this.images = {};\n  }\n\n  add(key, config) {\n    if (typeof key === 'string') {\n      this._add(key, config);\n    } else if (Array.isArray(key)) {\n      var data = key;\n\n      for (var i = 0, cnt = data.length; i < cnt; i++) {\n        this._add(data[i]);\n      }\n    } else {\n      var data = key;\n\n      for (var key in data) {\n        this._add(key, data[key]);\n      }\n    }\n\n    return this;\n  }\n\n  _add(key, config) {\n    if (config === undefined) {\n      config = {\n        key: key\n      };\n    }\n\n    var textureKey = config.key,\n        frameKey = config.frame;\n    var width = config.width,\n        height = config.height;\n\n    if (width === undefined || height === undefined) {\n      var frame = this.textureManager.getFrame(textureKey, frameKey);\n      var frameWidth = frame ? frame.cutWidth : 0;\n      var frameHeight = frame ? frame.cutHeight : 0;\n\n      if (width === undefined && height === undefined) {\n        width = frameWidth;\n        height = frameHeight;\n      } else if (width === undefined) {\n        width = frameWidth * (height / frameHeight);\n      } else if (height === undefined) {\n        height = frameHeight * (width / frameWidth);\n      }\n    }\n\n    this.images[key] = {\n      key: textureKey,\n      frame: frameKey,\n      width: width,\n      height: height,\n      y: GetValue(config, 'y', 0),\n      left: GetValue(config, 'left', 0),\n      right: GetValue(config, 'right', 0)\n    };\n  }\n\n  remove(key) {\n    if (this.images.hasOwnProperty(key)) {\n      delete this.images[key];\n    }\n\n    return this;\n  }\n\n  get(key) {\n    if (!this.images.hasOwnProperty(key)) {\n      if (this.textureManager.exists(key)) {\n        this.add(key);\n      }\n    }\n\n    return this.images[key];\n  }\n\n  getOuterWidth(key) {\n    var data = this.get(key);\n    return data ? data.width + data.left + data.right : 0;\n  }\n\n  getFrame(key) {\n    var data = this.get(key);\n    return data ? this.textureManager.getFrame(data.key, data.frame) : undefined;\n  }\n\n  hasTexture(key) {\n    return !!this.getFrame(key);\n  }\n\n}\n\nexport default ImageManager;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/gameobjects/text/textbase/imagemanager/ImageManager.js"],"names":["GetValue","Phaser","Utils","Objects","ImageManager","constructor","textureManager","images","add","key","config","_add","Array","isArray","data","i","cnt","length","undefined","textureKey","frameKey","frame","width","height","getFrame","frameWidth","cutWidth","frameHeight","cutHeight","y","left","right","remove","hasOwnProperty","get","exists","getOuterWidth","hasTexture"],"mappings":"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","sourcesContent":["const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass ImageManager {\r\n    constructor(textureManager) {\r\n        this.textureManager = textureManager;\r\n        this.images = {};\r\n    }\r\n\r\n    add(key, config) {\r\n        if (typeof (key) === 'string') {\r\n            this._add(key, config);\r\n        } else if (Array.isArray(key)) {\r\n            var data = key;\r\n            for (var i = 0, cnt = data.length; i < cnt; i++) {\r\n                this._add(data[i]);\r\n            }\r\n        } else {\r\n            var data = key;\r\n            for (var key in data) {\r\n                this._add(key, data[key]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    _add(key, config) {\r\n        if (config === undefined) {\r\n            config = {\r\n                key: key\r\n            }\r\n        }\r\n\r\n        var textureKey = config.key, frameKey = config.frame;\r\n        var width = config.width, height = config.height;\r\n\r\n        if ((width === undefined) || (height === undefined)) {\r\n            var frame = this.textureManager.getFrame(textureKey, frameKey);\r\n            var frameWidth = (frame) ? frame.cutWidth : 0;\r\n            var frameHeight = (frame) ? frame.cutHeight : 0;\r\n            if ((width === undefined) && (height === undefined)) {\r\n                width = frameWidth;\r\n                height = frameHeight;\r\n            } else if (width === undefined) {\r\n                width = frameWidth * (height / frameHeight);\r\n            } else if (height === undefined) {\r\n                height = frameHeight * (width / frameWidth);\r\n            }\r\n        }\r\n\r\n        this.images[key] = {\r\n            key: textureKey,\r\n            frame: frameKey,\r\n            width: width,\r\n            height: height,\r\n            y: GetValue(config, 'y', 0),\r\n            left: GetValue(config, 'left', 0),\r\n            right: GetValue(config, 'right', 0)\r\n        }\r\n    }\r\n\r\n    remove(key) {\r\n        if (this.images.hasOwnProperty(key)) {\r\n            delete this.images[key];\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get(key) {\r\n        if (!this.images.hasOwnProperty(key)) {\r\n            if (this.textureManager.exists(key)) {\r\n                this.add(key);\r\n            }\r\n        }\r\n        return this.images[key];\r\n    }\r\n\r\n    getOuterWidth(key) {\r\n        var data = this.get(key);\r\n        return (data) ? (data.width + data.left + data.right) : 0;\r\n    }\r\n\r\n    getFrame(key) {\r\n        var data = this.get(key);\r\n        return (data) ? this.textureManager.getFrame(data.key, data.frame) : undefined;\r\n    }\r\n\r\n    hasTexture(key) {\r\n        return !!this.getFrame(key);\r\n    }\r\n}\r\nexport default ImageManager;"]},"metadata":{},"sourceType":"module"}