{"ast":null,"code":"import ArrayCopy from '../../utils/array/Copy.js';\nimport TypeConvert from '../../utils/string/TypeConvert.js';\nimport IsArray from '../../utils/object/IsArray.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nvar runCommands = function (queue, scope, config) {\n  var reverse = GetValue(config, 'reverse', false);\n  var retVal;\n\n  if (IsArray(queue[0])) {\n    if (!reverse) {\n      for (var i = 0, len = queue.length; i < len; i++) {\n        retVal = runCommands(queue[i], scope, config);\n      }\n    } else {\n      for (var len = queue.length, i = len - 1; i >= 0; i--) {\n        retVal = runCommands(queue[i], scope, config);\n      }\n    }\n  } else {\n    retVal = runCommand(queue, scope, config);\n  }\n\n  return retVal;\n};\n\nvar runCommand = function (cmd, scope, config) {\n  var argsConvert = GetValue(config, 'argsConvert', undefined);\n  var argsConvertScope = GetValue(config, 'argsConvertScope', undefined);\n  var fnName = cmd[0];\n  ARGS = ArrayCopy(ARGS, cmd, 1);\n\n  if (argsConvert) {\n    // convert string to floating number, boolean, null, or string        \n    if (argsConvert === true) {\n      argsConvert = TypeConvert;\n      argsConvertScope = undefined;\n    }\n\n    for (var i = 0, len = ARGS.length; i < len; i++) {\n      if (argsConvertScope) {\n        ARGS[i] = argsConvert.call(argsConvertScope, ARGS[i], cmd);\n      } else {\n        ARGS[i] = argsConvert(ARGS[i], cmd);\n      }\n    }\n  }\n\n  var fn;\n\n  if (typeof fnName === 'string') {\n    fn = scope[fnName];\n\n    if (fn == null) {\n      fn = GetValue(scope, fnName, null);\n    }\n  } else {\n    fn = fnName;\n  }\n\n  var retValue = fn.apply(scope, ARGS);\n  return retValue;\n};\n\nvar ARGS = []; // reuse this array\n\nexport default runCommands;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/logic/runcommands/RunCommands.js"],"names":["ArrayCopy","TypeConvert","IsArray","GetValue","Phaser","Utils","Objects","runCommands","queue","scope","config","reverse","retVal","i","len","length","runCommand","cmd","argsConvert","undefined","argsConvertScope","fnName","ARGS","call","fn","retValue","apply"],"mappings":"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","sourcesContent":["import ArrayCopy from '../../utils/array/Copy.js';\r\nimport TypeConvert from '../../utils/string/TypeConvert.js';\r\nimport IsArray from '../../utils/object/IsArray.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar runCommands = function (queue, scope, config) {\r\n    var reverse = GetValue(config, 'reverse', false);\r\n\r\n    var retVal;\r\n    if (IsArray(queue[0])) {\r\n        if (!reverse) {\r\n            for (var i = 0, len = queue.length; i < len; i++) {\r\n                retVal = runCommands(queue[i], scope, config);\r\n            }\r\n        } else {\r\n            for (var len = queue.length, i = len - 1; i >= 0; i--) {\r\n                retVal = runCommands(queue[i], scope, config);\r\n            }\r\n        }\r\n    } else {\r\n        retVal = runCommand(queue, scope, config);\r\n    }\r\n\r\n    return retVal;\r\n}\r\n\r\nvar runCommand = function (cmd, scope, config) {\r\n    var argsConvert = GetValue(config, 'argsConvert', undefined);\r\n    var argsConvertScope = GetValue(config, 'argsConvertScope', undefined);\r\n\r\n    var fnName = cmd[0];\r\n\r\n    ARGS = ArrayCopy(ARGS, cmd, 1);\r\n    if (argsConvert) {\r\n        // convert string to floating number, boolean, null, or string        \r\n        if (argsConvert === true) {\r\n            argsConvert = TypeConvert;\r\n            argsConvertScope = undefined;\r\n        }\r\n        for (var i = 0, len = ARGS.length; i < len; i++) {\r\n            if (argsConvertScope) {\r\n                ARGS[i] = argsConvert.call(argsConvertScope, ARGS[i], cmd);\r\n            } else {\r\n                ARGS[i] = argsConvert(ARGS[i], cmd);\r\n            }\r\n        }\r\n    }\r\n\r\n    var fn;\r\n    if (typeof (fnName) === 'string') {\r\n        fn = scope[fnName];\r\n        if (fn == null) {\r\n            fn = GetValue(scope, fnName, null);\r\n        }\r\n    } else {\r\n        fn = fnName;\r\n    }\r\n\r\n    var retValue = fn.apply(scope, ARGS);\r\n    return retValue;\r\n}\r\nvar ARGS = []; // reuse this array\r\n\r\nexport default runCommands;"]},"metadata":{},"sourceType":"module"}