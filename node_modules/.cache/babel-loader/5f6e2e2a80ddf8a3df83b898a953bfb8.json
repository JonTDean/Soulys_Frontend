{"ast":null,"code":"const COLOR_PRIMARY = 0x4e342e;\nconst COLOR_LIGHT = 0x7b5e57;\nconst COLOR_DARK = 0x260e04;\n\nlet markPassword = function (password) {\n  return new Array(password.length + 1).join('•');\n};\n\nexport default function Dialogue(scene, config, onSubmit, GetValue) {\n  let username = GetValue(config, 'username', '');\n  let password = GetValue(config, 'password', '');\n  let title = GetValue(config, 'title', 'Welcome');\n  let x = GetValue(config, 'x', 0);\n  let y = GetValue(config, 'y', 0);\n  let width = GetValue(config, 'width', undefined);\n  let height = GetValue(config, 'height', undefined);\n  let background = scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10, COLOR_PRIMARY);\n  let titleField = scene.add.text(0, 0, title);\n  let userNameField = scene.rexUI.add.label({\n    orientation: 'x',\n    background: scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10).setStrokeStyle(2, COLOR_LIGHT),\n    icon: scene.add.image(0, 0, 'user'),\n    text: scene.rexUI.add.BBCodeText(0, 0, username, {\n      fixedWidth: 150,\n      fixedHeight: 36,\n      valign: 'center'\n    }),\n    space: {\n      top: 5,\n      bottom: 5,\n      left: 5,\n      right: 5,\n      icon: 10\n    }\n  }).setInteractive().on('pointerdown', function () {\n    let config = {\n      onTextChanged: function (textObject, text) {\n        username = text;\n        textObject.text = text;\n      }\n    };\n    scene.rexUI.edit(userNameField.getElement('text'), config);\n  });\n  let passwordField = scene.rexUI.add.label({\n    orientation: 'x',\n    background: scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10).setStrokeStyle(2, COLOR_LIGHT),\n    icon: scene.add.image(0, 0, 'password'),\n    text: scene.rexUI.add.BBCodeText(0, 0, markPassword(password), {\n      fixedWidth: 150,\n      fixedHeight: 36,\n      valign: 'center'\n    }),\n    space: {\n      top: 5,\n      bottom: 5,\n      left: 5,\n      right: 5,\n      icon: 10\n    }\n  }).setInteractive().on('pointerdown', function () {\n    let config = {\n      type: 'password',\n      text: password,\n      onTextChanged: function (textObject, text) {\n        password = text;\n        textObject.text = markPassword(password);\n      }\n    };\n    scene.rexUI.edit(passwordField.getElement('text'), config);\n  });\n  let loginButton = scene.rexUI.add.label({\n    orientation: 'x',\n    background: scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10, COLOR_LIGHT),\n    text: scene.add.text(0, 0, 'Login'),\n    space: {\n      top: 8,\n      bottom: 8,\n      left: 8,\n      right: 8\n    }\n  }).setInteractive().on('pointerdown', function () {\n    loginDialog.emit('login', username, password);\n  });\n  let loginDialog = scene.rexUI.add.sizer({\n    orientation: 'y',\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  }).addBackground(background).add(titleField, 0, 'center', {\n    top: 10,\n    bottom: 10,\n    left: 10,\n    right: 10\n  }, false).add(userNameField, 0, 'left', {\n    bottom: 10,\n    left: 10,\n    right: 10\n  }, true).add(passwordField, 0, 'left', {\n    bottom: 10,\n    left: 10,\n    right: 10\n  }, true).add(loginButton, 0, 'center', {\n    bottom: 10,\n    left: 10,\n    right: 10\n  }, false).layout();\n  return loginDialog;\n}\n;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/src/components/Game/Scenes/TitleScene/CharacterSelect/CharacterCreationFlow/Dialogue.js"],"names":["COLOR_PRIMARY","COLOR_LIGHT","COLOR_DARK","markPassword","password","Array","length","join","Dialogue","scene","config","onSubmit","GetValue","username","title","x","y","width","undefined","height","background","rexUI","add","roundRectangle","titleField","text","userNameField","label","orientation","setStrokeStyle","icon","image","BBCodeText","fixedWidth","fixedHeight","valign","space","top","bottom","left","right","setInteractive","on","onTextChanged","textObject","edit","getElement","passwordField","type","loginButton","loginDialog","emit","sizer","addBackground","layout"],"mappings":"AAAA,MAAMA,aAAa,GAAG,QAAtB;AACA,MAAMC,WAAW,GAAG,QAApB;AACA,MAAMC,UAAU,GAAG,QAAnB;;AAEA,IAAIC,YAAY,GAAG,UAAUC,QAAV,EAAoB;AACnC,SAAO,IAAIC,KAAJ,CAAUD,QAAQ,CAACE,MAAT,GAAkB,CAA5B,EAA+BC,IAA/B,CAAoC,GAApC,CAAP;AACH,CAFD;;AAIA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,MAAzB,EAAiCC,QAAjC,EAA2CC,QAA3C,EAAqD;AAChE,MAAIC,QAAQ,GAAGD,QAAQ,CAACF,MAAD,EAAS,UAAT,EAAqB,EAArB,CAAvB;AACA,MAAIN,QAAQ,GAAGQ,QAAQ,CAACF,MAAD,EAAS,UAAT,EAAqB,EAArB,CAAvB;AACA,MAAII,KAAK,GAAGF,QAAQ,CAACF,MAAD,EAAS,OAAT,EAAkB,SAAlB,CAApB;AACA,MAAIK,CAAC,GAAGH,QAAQ,CAACF,MAAD,EAAS,GAAT,EAAc,CAAd,CAAhB;AACA,MAAIM,CAAC,GAAGJ,QAAQ,CAACF,MAAD,EAAS,GAAT,EAAc,CAAd,CAAhB;AACA,MAAIO,KAAK,GAAGL,QAAQ,CAACF,MAAD,EAAS,OAAT,EAAkBQ,SAAlB,CAApB;AACA,MAAIC,MAAM,GAAGP,QAAQ,CAACF,MAAD,EAAS,QAAT,EAAmBQ,SAAnB,CAArB;AAEA,MAAIE,UAAU,GAAGX,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiDvB,aAAjD,CAAjB;AACA,MAAIwB,UAAU,GAAGf,KAAK,CAACa,GAAN,CAAUG,IAAV,CAAe,CAAf,EAAkB,CAAlB,EAAqBX,KAArB,CAAjB;AACA,MAAIY,aAAa,GAAGjB,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBK,KAAhB,CAAsB;AACtCC,IAAAA,WAAW,EAAE,GADyB;AAEtCR,IAAAA,UAAU,EAAEX,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiDM,cAAjD,CAAgE,CAAhE,EAAmE5B,WAAnE,CAF0B;AAGtC6B,IAAAA,IAAI,EAAErB,KAAK,CAACa,GAAN,CAAUS,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,MAAtB,CAHgC;AAItCN,IAAAA,IAAI,EAAEhB,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBU,UAAhB,CAA2B,CAA3B,EAA8B,CAA9B,EAAiCnB,QAAjC,EAA2C;AAAEoB,MAAAA,UAAU,EAAE,GAAd;AAAmBC,MAAAA,WAAW,EAAE,EAAhC;AAAoCC,MAAAA,MAAM,EAAE;AAA5C,KAA3C,CAJgC;AAKtCC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,MAAM,EAAE,CAAlB;AAAqBC,MAAAA,IAAI,EAAE,CAA3B;AAA8BC,MAAAA,KAAK,EAAE,CAArC;AAAwCV,MAAAA,IAAI,EAAE;AAA9C;AAL+B,GAAtB,EAOfW,cAPe,GAQfC,EARe,CAQZ,aARY,EAQG,YAAY;AAC3B,QAAIhC,MAAM,GAAG;AACTiC,MAAAA,aAAa,EAAE,UAASC,UAAT,EAAqBnB,IAArB,EAA2B;AACtCZ,QAAAA,QAAQ,GAAGY,IAAX;AACAmB,QAAAA,UAAU,CAACnB,IAAX,GAAkBA,IAAlB;AACH;AAJQ,KAAb;AAMAhB,IAAAA,KAAK,CAACY,KAAN,CAAYwB,IAAZ,CAAiBnB,aAAa,CAACoB,UAAd,CAAyB,MAAzB,CAAjB,EAAmDpC,MAAnD;AACH,GAhBe,CAApB;AAkBA,MAAIqC,aAAa,GAAGtC,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBK,KAAhB,CAAsB;AACtCC,IAAAA,WAAW,EAAE,GADyB;AAEtCR,IAAAA,UAAU,EAAEX,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiDM,cAAjD,CAAgE,CAAhE,EAAmE5B,WAAnE,CAF0B;AAGtC6B,IAAAA,IAAI,EAAErB,KAAK,CAACa,GAAN,CAAUS,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,UAAtB,CAHgC;AAItCN,IAAAA,IAAI,EAAEhB,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBU,UAAhB,CAA2B,CAA3B,EAA8B,CAA9B,EAAiC7B,YAAY,CAACC,QAAD,CAA7C,EAAyD;AAAE6B,MAAAA,UAAU,EAAE,GAAd;AAAmBC,MAAAA,WAAW,EAAE,EAAhC;AAAoCC,MAAAA,MAAM,EAAE;AAA5C,KAAzD,CAJgC;AAKtCC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,MAAM,EAAE,CAAlB;AAAqBC,MAAAA,IAAI,EAAE,CAA3B;AAA8BC,MAAAA,KAAK,EAAE,CAArC;AAAwCV,MAAAA,IAAI,EAAE;AAA9C;AAL+B,GAAtB,EAOfW,cAPe,GAQfC,EARe,CAQZ,aARY,EAQG,YAAY;AAC3B,QAAIhC,MAAM,GAAG;AACTsC,MAAAA,IAAI,EAAE,UADG;AAETvB,MAAAA,IAAI,EAAErB,QAFG;AAGTuC,MAAAA,aAAa,EAAE,UAASC,UAAT,EAAqBnB,IAArB,EAA2B;AACtCrB,QAAAA,QAAQ,GAAGqB,IAAX;AACAmB,QAAAA,UAAU,CAACnB,IAAX,GAAkBtB,YAAY,CAACC,QAAD,CAA9B;AACH;AANQ,KAAb;AAQAK,IAAAA,KAAK,CAACY,KAAN,CAAYwB,IAAZ,CAAiBE,aAAa,CAACD,UAAd,CAAyB,MAAzB,CAAjB,EAAmDpC,MAAnD;AACH,GAlBe,CAApB;AAoBA,MAAIuC,WAAW,GAAGxC,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBK,KAAhB,CAAsB;AACpCC,IAAAA,WAAW,EAAE,GADuB;AAEpCR,IAAAA,UAAU,EAAEX,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiDtB,WAAjD,CAFwB;AAGpCwB,IAAAA,IAAI,EAAEhB,KAAK,CAACa,GAAN,CAAUG,IAAV,CAAe,CAAf,EAAkB,CAAlB,EAAqB,OAArB,CAH8B;AAIpCW,IAAAA,KAAK,EAAE;AAAEC,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,MAAM,EAAE,CAAlB;AAAqBC,MAAAA,IAAI,EAAE,CAA3B;AAA8BC,MAAAA,KAAK,EAAE;AAArC;AAJ6B,GAAtB,EAMbC,cANa,GAObC,EAPa,CAOV,aAPU,EAOK,YAAY;AAC3BQ,IAAAA,WAAW,CAACC,IAAZ,CAAiB,OAAjB,EAA0BtC,QAA1B,EAAoCT,QAApC;AACH,GATa,CAAlB;AAWA,MAAI8C,WAAW,GAAGzC,KAAK,CAACY,KAAN,CAAYC,GAAZ,CAAgB8B,KAAhB,CAAsB;AACpCxB,IAAAA,WAAW,EAAE,GADuB;AAEpCb,IAAAA,CAAC,EAAEA,CAFiC;AAGpCC,IAAAA,CAAC,EAAEA,CAHiC;AAIpCC,IAAAA,KAAK,EAAEA,KAJ6B;AAKpCE,IAAAA,MAAM,EAAEA;AAL4B,GAAtB,EAObkC,aAPa,CAOCjC,UAPD,EAQbE,GARa,CAQTE,UARS,EAQG,CARH,EAQM,QARN,EAQgB;AAAEa,IAAAA,GAAG,EAAE,EAAP;AAAWC,IAAAA,MAAM,EAAE,EAAnB;AAAuBC,IAAAA,IAAI,EAAE,EAA7B;AAAiCC,IAAAA,KAAK,EAAE;AAAxC,GARhB,EAQ8D,KAR9D,EASblB,GATa,CASTI,aATS,EASM,CATN,EASS,MATT,EASiB;AAAEY,IAAAA,MAAM,EAAE,EAAV;AAAcC,IAAAA,IAAI,EAAE,EAApB;AAAwBC,IAAAA,KAAK,EAAE;AAA/B,GATjB,EASsD,IATtD,EAUblB,GAVa,CAUTyB,aAVS,EAUM,CAVN,EAUS,MAVT,EAUiB;AAAET,IAAAA,MAAM,EAAE,EAAV;AAAcC,IAAAA,IAAI,EAAE,EAApB;AAAwBC,IAAAA,KAAK,EAAE;AAA/B,GAVjB,EAUsD,IAVtD,EAWblB,GAXa,CAWT2B,WAXS,EAWI,CAXJ,EAWO,QAXP,EAWiB;AAAEX,IAAAA,MAAM,EAAE,EAAV;AAAcC,IAAAA,IAAI,EAAE,EAApB;AAAwBC,IAAAA,KAAK,EAAE;AAA/B,GAXjB,EAWsD,KAXtD,EAYbc,MAZa,EAAlB;AAaA,SAAOJ,WAAP;AACH;AAAA","sourcesContent":["const COLOR_PRIMARY = 0x4e342e;\nconst COLOR_LIGHT = 0x7b5e57;\nconst COLOR_DARK = 0x260e04;\n\nlet markPassword = function (password) {\n    return new Array(password.length + 1).join('•');\n};\n\nexport default function Dialogue(scene, config, onSubmit, GetValue) {\n    let username = GetValue(config, 'username', '');\n    let password = GetValue(config, 'password', '');\n    let title = GetValue(config, 'title', 'Welcome');\n    let x = GetValue(config, 'x', 0);\n    let y = GetValue(config, 'y', 0);\n    let width = GetValue(config, 'width', undefined);\n    let height = GetValue(config, 'height', undefined);\n\n    let background = scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10, COLOR_PRIMARY);\n    let titleField = scene.add.text(0, 0, title);\n    let userNameField = scene.rexUI.add.label({\n        orientation: 'x',\n        background: scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10).setStrokeStyle(2, COLOR_LIGHT),\n        icon: scene.add.image(0, 0, 'user'),\n        text: scene.rexUI.add.BBCodeText(0, 0, username, { fixedWidth: 150, fixedHeight: 36, valign: 'center' }),\n        space: { top: 5, bottom: 5, left: 5, right: 5, icon: 10, }\n    })\n        .setInteractive()\n        .on('pointerdown', function () {\n            let config = {\n                onTextChanged: function(textObject, text) {\n                    username = text;\n                    textObject.text = text;\n                }\n            }\n            scene.rexUI.edit(userNameField.getElement('text'), config);\n        });\n\n    let passwordField = scene.rexUI.add.label({\n        orientation: 'x',\n        background: scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10).setStrokeStyle(2, COLOR_LIGHT),\n        icon: scene.add.image(0, 0, 'password'),\n        text: scene.rexUI.add.BBCodeText(0, 0, markPassword(password), { fixedWidth: 150, fixedHeight: 36, valign: 'center' }),\n        space: { top: 5, bottom: 5, left: 5, right: 5, icon: 10, }\n    })\n        .setInteractive()\n        .on('pointerdown', function () {\n            let config = {\n                type: 'password',\n                text: password,\n                onTextChanged: function(textObject, text) {\n                    password = text;\n                    textObject.text = markPassword(password);\n                }\n            };\n            scene.rexUI.edit(passwordField.getElement('text'), config);\n        });\n\n    let loginButton = scene.rexUI.add.label({\n        orientation: 'x',\n        background: scene.rexUI.add.roundRectangle(0, 0, 10, 10, 10, COLOR_LIGHT),\n        text: scene.add.text(0, 0, 'Login'),\n        space: { top: 8, bottom: 8, left: 8, right: 8 }\n    })\n        .setInteractive()\n        .on('pointerdown', function () {\n            loginDialog.emit('login', username, password);\n        });\n\n    let loginDialog = scene.rexUI.add.sizer({\n        orientation: 'y',\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    })\n        .addBackground(background)\n        .add(titleField, 0, 'center', { top: 10, bottom: 10, left: 10, right: 10 }, false)\n        .add(userNameField, 0, 'left', { bottom: 10, left: 10, right: 10 }, true)\n        .add(passwordField, 0, 'left', { bottom: 10, left: 10, right: 10 }, true)\n        .add(loginButton, 0, 'center', { bottom: 10, left: 10, right: 10 }, false)\n        .layout();\n    return loginDialog;\n};"]},"metadata":{},"sourceType":"module"}