{"ast":null,"code":"import GeomRoundRectangle from '../../shape/roundrectangle/geom/RoundRectangle.js';\nconst DegToRad = Phaser.Math.DegToRad;\nconst Rad0 = DegToRad(0);\nconst Rad90 = DegToRad(90);\nconst Rad180 = DegToRad(180);\nconst Rad270 = DegToRad(270);\n\nvar DrawRoundRectangle = function (ctx, width, height, radiusConfig) {\n  if (radiusConfig === undefined) {\n    radiusConfig = Math.min(Math.floor(width / 2), Math.floor(height / 2));\n  }\n\n  var geom = new GeomRoundRectangle(0, 0, width, height, radiusConfig);\n  var cornerRadius = geom.cornerRadius,\n      radius,\n      centerX,\n      centerY; // bottom-right\n\n  radius = cornerRadius.br;\n  centerX = geom.width - radius.x;\n  centerY = geom.height - radius.y;\n\n  if (isArcCorner(radius)) {\n    ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad0, Rad90);\n  } else {\n    ctx.moveTo(geom.width, centerY);\n    ctx.lineTo(geom.width, geom.height);\n    ctx.lineTo(centerX, geom.height);\n  } // bottom-left\n\n\n  radius = cornerRadius.bl;\n  centerX = radius.x;\n  centerY = geom.height - radius.y;\n  ctx.lineTo(radius.x, geom.height);\n\n  if (isArcCorner(radius)) {\n    ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad90, Rad180);\n  } else {\n    ctx.lineTo(0, geom.height);\n    ctx.lineTo(0, centerY);\n  } // top-left\n\n\n  radius = cornerRadius.tl;\n  centerX = radius.x;\n  centerY = radius.y;\n  ctx.lineTo(0, centerY);\n\n  if (isArcCorner(radius)) {\n    ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad180, Rad270);\n  } else {\n    ctx.lineTo(0, 0);\n    ctx.lineTo(centerX, 0);\n  } // top-right\n\n\n  radius = cornerRadius.tr;\n  centerX = geom.width - radius.x;\n  centerY = radius.y;\n  ctx.lineTo(centerX, 0);\n\n  if (isArcCorner(radius)) {\n    ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad270, Rad0);\n  } else {\n    ctx.lineTo(geom.width, 0);\n    ctx.lineTo(geom.width, centerY);\n  }\n\n  ctx.closePath();\n};\n\nvar isArcCorner = function (radius) {\n  return radius.x !== 0 && radius.y !== 0;\n};\n\nexport default DrawRoundRectangle;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/gameobjects/circlemaskimage/drawmethods/DrawRoundRectangle.js"],"names":["GeomRoundRectangle","DegToRad","Phaser","Math","Rad0","Rad90","Rad180","Rad270","DrawRoundRectangle","ctx","width","height","radiusConfig","undefined","min","floor","geom","cornerRadius","radius","centerX","centerY","br","x","y","isArcCorner","ellipse","moveTo","lineTo","bl","tl","tr","closePath"],"mappings":"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","sourcesContent":["import GeomRoundRectangle from '../../shape/roundrectangle/geom/RoundRectangle.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst Rad0 = DegToRad(0);\r\nconst Rad90 = DegToRad(90);\r\nconst Rad180 = DegToRad(180);\r\nconst Rad270 = DegToRad(270);\r\n\r\nvar DrawRoundRectangle = function (ctx, width, height, radiusConfig) {\r\n    if (radiusConfig === undefined) {\r\n        radiusConfig = Math.min(Math.floor(width / 2), Math.floor(height / 2))\r\n    }\r\n\r\n    var geom = new GeomRoundRectangle(0, 0, width, height, radiusConfig);\r\n    var cornerRadius = geom.cornerRadius, radius,\r\n        centerX, centerY;\r\n\r\n    // bottom-right\r\n    radius = cornerRadius.br;\r\n    centerX = geom.width - radius.x;\r\n    centerY = geom.height - radius.y;\r\n    if (isArcCorner(radius)) {\r\n        ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad0, Rad90);\r\n    } else {\r\n        ctx.moveTo(geom.width, centerY);\r\n        ctx.lineTo(geom.width, geom.height);\r\n        ctx.lineTo(centerX, geom.height);\r\n    }\r\n\r\n    // bottom-left\r\n    radius = cornerRadius.bl;\r\n    centerX = radius.x;\r\n    centerY = geom.height - radius.y;\r\n    ctx.lineTo(radius.x, geom.height);\r\n    if (isArcCorner(radius)) {        \r\n        ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad90, Rad180);\r\n    } else {\r\n        ctx.lineTo(0, geom.height);\r\n        ctx.lineTo(0, centerY);\r\n    }\r\n\r\n    // top-left\r\n    radius = cornerRadius.tl;\r\n    centerX = radius.x;\r\n    centerY = radius.y;\r\n    ctx.lineTo(0, centerY);\r\n    if (isArcCorner(radius)) {\r\n        ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad180, Rad270);\r\n    } else {\r\n        ctx.lineTo(0, 0);\r\n        ctx.lineTo(centerX, 0);\r\n    }\r\n\r\n    // top-right\r\n    radius = cornerRadius.tr;\r\n    centerX = geom.width - radius.x;\r\n    centerY = radius.y;\r\n    ctx.lineTo(centerX, 0);\r\n    if (isArcCorner(radius)) {\r\n        ctx.ellipse(centerX, centerY, radius.x, radius.y, 0, Rad270, Rad0);\r\n    } else {\r\n        ctx.lineTo(geom.width, 0);\r\n        ctx.lineTo(geom.width, centerY);\r\n    }\r\n    ctx.closePath();\r\n\r\n}\r\n\r\nvar isArcCorner = function (radius) {\r\n    return ((radius.x !== 0) && (radius.y !== 0));\r\n}\r\n\r\nexport default DrawRoundRectangle;"]},"metadata":{},"sourceType":"module"}