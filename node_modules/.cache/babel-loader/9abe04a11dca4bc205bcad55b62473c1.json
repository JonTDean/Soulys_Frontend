{"ast":null,"code":"import Sizer from '../sizer/Sizer.js';\nimport AddChildMask from '../utils/AddChildMask.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass Label extends Sizer {\n  constructor(scene, config) {\n    // Create sizer\n    super(scene, config);\n    this.type = 'rexLabel'; // Add elements\n\n    var background = GetValue(config, 'background', undefined);\n    var icon = GetValue(config, 'icon', undefined);\n    var iconMask = GetValue(config, 'iconMask', undefined);\n    var text = GetValue(config, 'text', undefined);\n    var action = GetValue(config, 'action', undefined);\n    var actionMask = GetValue(config, 'actionMask', undefined); // Align\n\n    var align = GetValue(config, 'align', undefined); // undefined/left/top: no space\n    // Space\n\n    var iconSpace = GetValue(config, 'space.icon', 0);\n    var textSpace = GetValue(config, 'space.text', 0);\n\n    if (background) {\n      this.addBackground(background);\n    } // Add space\n\n\n    if (align === 'right' || align === 'bottom' || align === 'center') {\n      this.addSpace();\n    }\n\n    if (icon) {\n      var padding;\n\n      if (this.orientation === 0) {\n        if (text || action) {\n          padding = {\n            right: iconSpace\n          };\n        }\n      } else {\n        if (text || action) {\n          padding = {\n            bottom: iconSpace\n          };\n        }\n      }\n\n      this.add(icon, 0, 'center', padding);\n\n      if (iconMask) {\n        iconMask = this.addChildMask(icon, icon, 1); // Circle mask\n      }\n    }\n\n    if (text) {\n      var expandTextWidth = GetValue(config, 'expandTextWidth', false);\n      var expandTextHeight = GetValue(config, 'expandTextHeight', false);\n      var proportion, padding, expand;\n\n      if (this.orientation === 0) {\n        proportion = expandTextWidth ? 1 : 0;\n\n        if (action) {\n          padding = {\n            right: textSpace\n          };\n        }\n\n        expand = expandTextHeight;\n      } else {\n        proportion = expandTextHeight ? 1 : 0;\n\n        if (action) {\n          padding = {\n            bottom: textSpace\n          };\n        }\n\n        expand = expandTextWidth;\n      }\n\n      this.add(text, proportion, 'center', padding, expand);\n    }\n\n    if (action) {\n      this.add(action);\n\n      if (actionMask) {\n        actionMask = this.addChildMask(action, action, 1); // Circle mask\n      }\n    } // Add space\n\n\n    if (align === 'center') {\n      this.addSpace();\n    }\n\n    this.addChildrenMap('background', background);\n    this.addChildrenMap('icon', icon);\n    this.addChildrenMap('iconMask', iconMask);\n    this.addChildrenMap('text', text);\n    this.addChildrenMap('action', action);\n    this.addChildrenMap('actionMask', actionMask);\n  }\n\n  get text() {\n    var textObject = this.childrenMap.text;\n\n    if (textObject === undefined) {\n      return '';\n    }\n\n    var value;\n\n    if (textObject.text) {\n      value = textObject.text;\n    } else {\n      value = textObject.getData('text');\n    }\n\n    return value;\n  }\n\n  set text(value) {\n    var textObject = this.childrenMap.text;\n\n    if (textObject === undefined) {\n      return;\n    }\n\n    if (textObject.setText) {\n      textObject.setText(value);\n    } else {\n      textObject.setData('text', value);\n    }\n  }\n\n  setText(value) {\n    this.text = value;\n    return this;\n  }\n\n  appendText(value) {\n    this.text += value;\n  }\n\n  layout(parent, newWidth, newHeight) {\n    // Skip hidden or !dirty sizer\n    if (this.rexSizer.hidden || !this.dirty) {\n      return this;\n    }\n\n    super.layout(parent, newWidth, newHeight); // Pin icon-mask to icon game object\n\n    var iconMask = this.childrenMap.iconMask;\n\n    if (iconMask) {\n      iconMask.setPosition();\n      this.resetChildPositionState(iconMask);\n    } // Pin action-mask to action game object\n\n\n    var actionMask = this.childrenMap.actionMask;\n\n    if (actionMask) {\n      actionMask.setPosition();\n      this.resetChildPositionState(actionMask);\n    }\n\n    return this;\n  }\n\n  resize(width, height) {\n    super.resize(width, height); // Resize icon-mask to icon game object\n\n    var iconMask = this.childrenMap.iconMask;\n\n    if (iconMask) {\n      iconMask.resize();\n    } // Resize action-mask to icon game object\n\n\n    var actionMask = this.childrenMap.actionMask;\n\n    if (actionMask) {\n      actionMask.resize();\n    }\n\n    return this;\n  }\n\n}\n\nvar methods = {\n  addChildMask: AddChildMask\n};\nObject.assign(Label.prototype, methods);\nexport default Label;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/label/Label.js"],"names":["Sizer","AddChildMask","GetValue","Phaser","Utils","Objects","Label","constructor","scene","config","type","background","undefined","icon","iconMask","text","action","actionMask","align","iconSpace","textSpace","addBackground","addSpace","padding","orientation","right","bottom","add","addChildMask","expandTextWidth","expandTextHeight","proportion","expand","addChildrenMap","textObject","childrenMap","value","getData","setText","setData","appendText","layout","parent","newWidth","newHeight","rexSizer","hidden","dirty","setPosition","resetChildPositionState","resize","width","height","methods","Object","assign","prototype"],"mappings":"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","sourcesContent":["import Sizer from '../sizer/Sizer.js';\r\nimport AddChildMask from '../utils/AddChildMask.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Label extends Sizer {\r\n    constructor(scene, config) {\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexLabel';\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var icon = GetValue(config, 'icon', undefined);\r\n        var iconMask = GetValue(config, 'iconMask', undefined);\r\n        var text = GetValue(config, 'text', undefined);\r\n        var action = GetValue(config, 'action', undefined);\r\n        var actionMask = GetValue(config, 'actionMask', undefined);\r\n        // Align\r\n        var align = GetValue(config, 'align', undefined); // undefined/left/top: no space\r\n        // Space\r\n        var iconSpace = GetValue(config, 'space.icon', 0);\r\n        var textSpace = GetValue(config, 'space.text', 0);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        // Add space\r\n        if (\r\n            (align === 'right') ||\r\n            (align === 'bottom') ||\r\n            (align === 'center')\r\n        ) {\r\n            this.addSpace();\r\n        }\r\n\r\n        if (icon) {\r\n            var padding;\r\n            if (this.orientation === 0) {\r\n                if (text || action) {\r\n                    padding = { right: iconSpace };\r\n                }\r\n            } else {\r\n                if (text || action) {\r\n                    padding = { bottom: iconSpace };\r\n                }\r\n            }\r\n\r\n            this.add(icon, 0, 'center', padding);\r\n\r\n            if (iconMask) {\r\n                iconMask = this.addChildMask(icon, icon, 1); // Circle mask\r\n            }\r\n        }\r\n\r\n        if (text) {\r\n            var expandTextWidth = GetValue(config, 'expandTextWidth', false);\r\n            var expandTextHeight = GetValue(config, 'expandTextHeight', false);\r\n            var proportion, padding, expand;\r\n            if (this.orientation === 0) {\r\n                proportion = (expandTextWidth) ? 1 : 0;\r\n                if (action) {\r\n                    padding = { right: textSpace };\r\n                }\r\n                expand = expandTextHeight;\r\n            } else {\r\n                proportion = (expandTextHeight) ? 1 : 0;\r\n                if (action) {\r\n                    padding = { bottom: textSpace };\r\n                }\r\n                expand = expandTextWidth;\r\n            }\r\n            this.add(text, proportion, 'center', padding, expand);\r\n        }\r\n\r\n        if (action) {\r\n            this.add(action);\r\n\r\n            if (actionMask) {\r\n                actionMask = this.addChildMask(action, action, 1); // Circle mask\r\n            }\r\n        }\r\n\r\n        // Add space\r\n        if (align === 'center') {\r\n            this.addSpace();\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('icon', icon);\r\n        this.addChildrenMap('iconMask', iconMask);\r\n        this.addChildrenMap('text', text);\r\n        this.addChildrenMap('action', action);\r\n        this.addChildrenMap('actionMask', actionMask);\r\n    }\r\n\r\n    get text() {\r\n        var textObject = this.childrenMap.text;\r\n        if (textObject === undefined) {\r\n            return '';\r\n        }\r\n        var value;\r\n        if (textObject.text) {\r\n            value = textObject.text;\r\n        } else {\r\n            value = textObject.getData('text');\r\n        }\r\n        return value;\r\n    }\r\n\r\n    set text(value) {\r\n        var textObject = this.childrenMap.text;\r\n        if (textObject === undefined) {\r\n            return;\r\n        }\r\n        if (textObject.setText) {\r\n            textObject.setText(value);\r\n        } else {\r\n            textObject.setData('text', value);\r\n        }\r\n    }\r\n\r\n    setText(value) {\r\n        this.text = value;\r\n        return this;\r\n    }\r\n\r\n    appendText(value) {\r\n        this.text += value;\r\n    }\r\n\r\n    layout(parent, newWidth, newHeight) {\r\n        // Skip hidden or !dirty sizer\r\n        if (this.rexSizer.hidden || (!this.dirty)) {\r\n            return this;\r\n        }\r\n\r\n        super.layout(parent, newWidth, newHeight);\r\n        // Pin icon-mask to icon game object\r\n        var iconMask = this.childrenMap.iconMask;\r\n        if (iconMask) {\r\n            iconMask.setPosition();\r\n            this.resetChildPositionState(iconMask);\r\n        }\r\n        // Pin action-mask to action game object\r\n        var actionMask = this.childrenMap.actionMask;\r\n        if (actionMask) {\r\n            actionMask.setPosition();\r\n            this.resetChildPositionState(actionMask);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resize(width, height) {\r\n        super.resize(width, height);\r\n        // Resize icon-mask to icon game object\r\n        var iconMask = this.childrenMap.iconMask;\r\n        if (iconMask) {\r\n            iconMask.resize();\r\n        }\r\n        // Resize action-mask to icon game object\r\n        var actionMask = this.childrenMap.actionMask;\r\n        if (actionMask) {\r\n            actionMask.resize();\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    addChildMask: AddChildMask\r\n}\r\n\r\nObject.assign(\r\n    Label.prototype,\r\n    methods\r\n);\r\n\r\nexport default Label;"]},"metadata":{},"sourceType":"module"}