{"ast":null,"code":"import EventEmitterMethods from '../eventemitter/EventEmitterMethods.js';\nimport GetSceneObject from '../system/GetSceneObject.js';\nimport IsGameObject from '../system/IsGameObject.js';\nimport IsSceneObject from '../system/IsSceneObject.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\n\nclass TweenBase {\n  constructor(parent, config) {\n    this.parent = parent;\n    this.scene = GetSceneObject(parent);\n    /*\r\n    eventEmitter:\r\n    - false(default value): Use tween's event emitter.\r\n    - true: Create a private event emitter.\r\n    */\n\n    var eventEmitter = GetValue(config, 'eventEmitter', false);\n\n    if (eventEmitter === true) {\n      eventEmitter = undefined;\n    }\n\n    this.setEventEmitter(eventEmitter);\n    this.boot();\n  }\n\n  boot() {\n    if (IsGameObject(this.parent)) {\n      // Parent is Game Object\n      if (this.parent.once) {\n        // oops, bob object does not have event emitter\n        this.parent.on('destroy', this.destroy, this);\n      }\n    } else if (IsSceneObject(this.parent)) {\n      // Parent is Scene Object\n      this.parent.events.once('shutdown', this.destroy, this);\n    } else {// ??\n    }\n  }\n\n  shutdown() {\n    this.stop();\n\n    if (IsSceneObject(this.parent)) {\n      // Parent is Scene Object\n      this.parent.events.off('shutdown', this.destroy, this);\n    }\n\n    this.destroyEventEmitter();\n    this.parent = undefined;\n    this.scene = undefined;\n    return this;\n  }\n\n  destroy() {\n    this.shutdown();\n    return this;\n  }\n\n  start(tweenConfig) {\n    if (this.isRunning) {\n      return this;\n    }\n\n    this.tween = this.scene.tweens.add(tweenConfig).on('complete', this.complete, this);\n\n    if (this.getEventEmitter() === false) {\n      this.setEventEmitter(this.tween);\n    }\n\n    return this;\n  }\n\n  restart() {\n    this.stop().start();\n    return this;\n  }\n\n  stop() {\n    if (!this.tween) {\n      return this;\n    }\n\n    if (this.getEventEmitter() === this.tween) {\n      this.setEventEmitter(false);\n    }\n\n    this.tween.remove();\n    this.tween = undefined;\n    return this;\n  }\n\n  complete() {\n    this.stop();\n\n    if (this.getEventEmitter()) {\n      this.emit('complete');\n    }\n\n    return this;\n  }\n\n  get isRunning() {\n    return !!this.tween;\n  }\n\n}\n\nObject.assign(TweenBase.prototype, EventEmitterMethods);\nexport default TweenBase;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/utils/tween/TweenBase.js"],"names":["EventEmitterMethods","GetSceneObject","IsGameObject","IsSceneObject","GetValue","Phaser","Utils","Objects","TweenBase","constructor","parent","config","scene","eventEmitter","undefined","setEventEmitter","boot","once","on","destroy","events","shutdown","stop","off","destroyEventEmitter","start","tweenConfig","isRunning","tween","tweens","add","complete","getEventEmitter","restart","remove","emit","Object","assign","prototype"],"mappings":"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","sourcesContent":["import EventEmitterMethods from '../eventemitter/EventEmitterMethods.js';\r\nimport GetSceneObject from '../system/GetSceneObject.js';\r\nimport IsGameObject from '../system/IsGameObject.js';\r\nimport IsSceneObject from '../system/IsSceneObject.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TweenBase {\r\n    constructor(parent, config) {\r\n        this.parent = parent;\r\n        this.scene = GetSceneObject(parent);\r\n\r\n        /*\r\n        eventEmitter:\r\n        - false(default value): Use tween's event emitter.\r\n        - true: Create a private event emitter.\r\n        */\r\n        var eventEmitter = GetValue(config, 'eventEmitter', false);\r\n        if (eventEmitter === true) {\r\n            eventEmitter = undefined;\r\n        }\r\n        this.setEventEmitter(eventEmitter);\r\n        this.boot();\r\n    }\r\n\r\n    boot() {\r\n        if (IsGameObject(this.parent)) { // Parent is Game Object\r\n            if (this.parent.once) { // oops, bob object does not have event emitter\r\n                this.parent.on('destroy', this.destroy, this);\r\n            }\r\n        } else if (IsSceneObject(this.parent)) { // Parent is Scene Object\r\n            this.parent.events.once('shutdown', this.destroy, this);\r\n        } else {\r\n            // ??\r\n        }\r\n    }\r\n\r\n    shutdown() {\r\n        this.stop();\r\n        if (IsSceneObject(this.parent)) {  // Parent is Scene Object\r\n            this.parent.events.off('shutdown', this.destroy, this);\r\n        }\r\n        this.destroyEventEmitter();\r\n        this.parent = undefined;\r\n        this.scene = undefined;\r\n        return this;\r\n    }\r\n\r\n\r\n    destroy() {\r\n        this.shutdown();\r\n        return this;\r\n    }\r\n\r\n    start(tweenConfig) {\r\n        if (this.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        this.tween = this.scene.tweens.add(tweenConfig)\r\n            .on('complete', this.complete, this);\r\n        if (this.getEventEmitter() === false) {\r\n            this.setEventEmitter(this.tween);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    restart() {\r\n        this.stop().start();\r\n        return this;\r\n    }\r\n\r\n    stop() {\r\n        if (!this.tween) {\r\n            return this;\r\n        }\r\n\r\n        if (this.getEventEmitter() === this.tween) {\r\n            this.setEventEmitter(false);\r\n        }\r\n        this.tween.remove();\r\n        this.tween = undefined;\r\n        return this;\r\n    }\r\n\r\n    complete() {\r\n        this.stop();\r\n        if (this.getEventEmitter()) {\r\n            this.emit('complete');\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get isRunning() {\r\n        return (!!this.tween);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    TweenBase.prototype,\r\n    EventEmitterMethods\r\n);\r\n\r\nexport default TweenBase;"]},"metadata":{},"sourceType":"module"}