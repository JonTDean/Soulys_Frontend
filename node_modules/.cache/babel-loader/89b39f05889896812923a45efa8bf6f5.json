{"ast":null,"code":"import _classCallCheck from\"/home/jon/code/Projects/Soulys/Original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jon/code/Projects/Soulys/Original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jon/code/Projects/Soulys/Original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jon/code/Projects/Soulys/Original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Switch,Route,withRouter}from\"react-router-dom\";import NavBar from'./components/Site/Static/NavBar/NavBar';import SignUpForm from'./components/User/SignUpForm';import LoginForm from'./components/User/LoginForm';import Profile from'./components/User/Profile';import Home from'./components/Site/home';import Main from'./components/Game/Main';import CharacterView from'./components/User/Character/CharacterView';import NewCharacter from'./components/User/Character/NewCharacter';import ModifyCharacters from'./components/User/Character/ModifyCharacters/ModifyCharacters';import{handleLoginPersist}from'./components/Site/Fetch_Requests/User_Fetch_Requests';import{currentUserExists}from'./components/Site/Utilities/UserUtil';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentUser:null};_this.handleLogin=function(currentUser){if(currentUser===undefined){_this.props.history.push('/login');}else if(currentUser.message){_this.props.history.push('/login');}else{_this.setState({currentUser:currentUser},function(){_this.props.history.push('/');});}};_this.handleLogout=function(){// Remove USER TOKEN\nlocalStorage.removeItem(\"token\");// Remove State\n_this.setState({currentUser:null});_this.props.history.push('/');};return _this;}_createClass(App,[{key:\"componentDidMount\",// Logs In user\nvalue:function componentDidMount(){if(localStorage.token){handleLoginPersist(\"profile/autologin/\",this.handleLogin,localStorage.token);}}// Handles User Login\n},{key:\"render\",value:function render(){var currentUser=this.state.currentUser;// console.log(`currentUser:`, currentUser);\n// console.log(`Current Local Storage ID:${localStorage.token}` );\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavBar,{currentUser:currentUserExists(currentUser),handleLogout:this.handleLogout}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\"},/*#__PURE__*/React.createElement(LoginForm,{handleLogin:this.handleLogin,currentUser:currentUserExists(currentUser,this.handleLogout)})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/SignUp\"},/*#__PURE__*/React.createElement(SignUpForm,{handleLogin:this.handleLogin,currentUser:currentUserExists(currentUser,this.handleLogout)})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/Profile\"},/*#__PURE__*/React.createElement(Profile,{currentUser:currentUserExists(currentUser,this.handleLogout),token:localStorage.token,handleLogout:this.handleLogout,location:this.props.location})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/Game\"},\" \",/*#__PURE__*/React.createElement(Main,{currentUser:currentUserExists(currentUser,this.handleLogout),token:localStorage.token})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/Game/Characters/View\"},\" \",/*#__PURE__*/React.createElement(CharacterView,{currentUser:currentUserExists(currentUser,this.handleLogout)})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/Game/Characters/New\"},/*#__PURE__*/React.createElement(NewCharacter,{currentUser:currentUserExists(currentUser,this.handleLogout)})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/Game/Characters/Modify\"},/*#__PURE__*/React.createElement(ModifyCharacters,{currentUser:currentUserExists(currentUser,this.handleLogout)})),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(Home,{currentUser:currentUserExists(currentUser,this.handleLogout)}))));}}]);return App;}(Component);export default withRouter(App);","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/Original/frontend/src/App.js"],"names":["React","Component","Switch","Route","withRouter","NavBar","SignUpForm","LoginForm","Profile","Home","Main","CharacterView","NewCharacter","ModifyCharacters","handleLoginPersist","currentUserExists","App","state","currentUser","handleLogin","undefined","props","history","push","message","setState","handleLogout","localStorage","removeItem","token","location"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport NavBar from './components/Site/Static/NavBar/NavBar';\nimport SignUpForm from './components/User/SignUpForm';\nimport LoginForm from './components/User/LoginForm';\nimport Profile from './components/User/Profile';\nimport Home from './components/Site/home';\nimport Main from './components/Game/Main';\nimport CharacterView from './components/User/Character/CharacterView';\nimport NewCharacter from './components/User/Character/NewCharacter';\nimport ModifyCharacters from './components/User/Character/ModifyCharacters/ModifyCharacters';\nimport { handleLoginPersist } from './components/Site/Fetch_Requests/User_Fetch_Requests';\nimport { currentUserExists } from './components/Site/Utilities/UserUtil';\n\nclass App extends Component {\n  state = {\n    currentUser: null,\n  }\n\n  // Logs In user\n  componentDidMount(){\n    if(localStorage.token){\n      handleLoginPersist(`profile/autologin/`, this.handleLogin, localStorage.token);\n    }\n  }\n\n  // Handles User Login\n  handleLogin = currentUser => {\n\n    if(currentUser === undefined){\n      this.props.history.push('/login');\n    }else if(currentUser.message){\n      this.props.history.push('/login');\n    }else{\n      this.setState({ currentUser }, () => {\n        this.props.history.push('/');\n      })\n    }\n\n\n  }\n\n  // Handles User Logout\n  handleLogout = () => {\n    // Remove USER TOKEN\n    localStorage.removeItem(\"token\");\n    \n    // Remove State\n    this.setState({\n      currentUser: null\n    })\n\n    this.props.history.push('/');\n  }\n\n  render(){\n    const { currentUser } = this.state;\n    // console.log(`currentUser:`, currentUser);\n    // console.log(`Current Local Storage ID:${localStorage.token}` );\n\n    return (\n      <>\n        <NavBar currentUser={ currentUserExists(currentUser) } handleLogout={this.handleLogout} />\n\n        <Switch>\n\n          {/* Log In Page */}\n          <Route exact path=\"/login\">\n            <LoginForm handleLogin={this.handleLogin} currentUser={ currentUserExists(currentUser, this.handleLogout) } />\n          </Route>\n\n          {/* Sign Up Page */}\n          <Route exact path=\"/SignUp\">\n            <SignUpForm handleLogin={this.handleLogin} currentUser={ currentUserExists(currentUser, this.handleLogout) } />\n          </Route>\n\n          {/* Profile Page */}\n          <Route exact path=\"/Profile\">\n            <Profile currentUser={ currentUserExists(currentUser, this.handleLogout) } token={localStorage.token} handleLogout={this.handleLogout} location={this.props.location} />\n          </Route>\n\n          {/* Game Page */}\n          <Route exact path=\"/Game\"> {/* currentUserExists returns the currentUser name not the full return value */}  \n            <Main currentUser={ currentUserExists(currentUser, this.handleLogout) } token={localStorage.token} />\n          </Route>\n\n          {/* Character Creation Page */}\n          <Route exact path=\"/Game/Characters/View\"> {/* currentUserExists returns the currentUser name not the full return value */}  \n            <CharacterView currentUser={ currentUserExists(currentUser, this.handleLogout) } />\n          </Route>\n\n          {/* New Character Page */}\n          <Route exact path='/Game/Characters/New'>\n            <NewCharacter currentUser={ currentUserExists(currentUser, this.handleLogout) } />\n          </Route>\n\n          {/* Edit Character Page */}\n          <Route exact path='/Game/Characters/Modify'>\n            <ModifyCharacters currentUser={ currentUserExists(currentUser, this.handleLogout) } />\n          </Route>\n\n          {/* Home Page */}\n          <Route exact path=\"/\">\n            <Home currentUser={ currentUserExists(currentUser, this.handleLogout) } />\n          </Route>\n\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default withRouter(App);"]},"metadata":{},"sourceType":"module"}