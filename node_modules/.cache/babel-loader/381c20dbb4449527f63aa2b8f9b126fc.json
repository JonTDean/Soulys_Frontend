{"ast":null,"code":"import GetExpandedChildWidth from './GetExpandedChildWidth.js';\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\nimport ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\nimport GlobZone from '../../../plugins/utils/actions/GlobZone.js';\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\n\nvar Layout = function (parent, newWidth, newHeight) {\n  // Skip hidden or !dirty sizer\n  if (this.rexSizer.hidden || !this.dirty) {\n    return this;\n  }\n\n  this.preLayout(parent); // Set size\n\n  if (newWidth === undefined) {\n    newWidth = Math.max(this.childrenWidth, this.minWidth);\n  }\n\n  if (newHeight === undefined) {\n    newHeight = Math.max(this.childrenHeight, this.minHeight);\n  }\n\n  this.resize(newWidth, newHeight);\n  var proportionLength;\n\n  if (this.childrenProportion > 0) {\n    var remainder = this.orientation === 0 ? this.width - this.childrenWidth : this.height - this.childrenHeight;\n\n    if (remainder > 0) {\n      remainder = this.orientation === 0 ? this.width - this.getChildrenWidth(false) : this.height - this.getChildrenHeight(false);\n      proportionLength = remainder / this.childrenProportion;\n    } else {\n      proportionLength = 0;\n    }\n  } else {\n    proportionLength = 0;\n  }\n\n  this.proportionLength = proportionLength; // Layout children    \n\n  var children = this.sizerChildren;\n  var child, childConfig, padding;\n  var startX = this.innerLeft,\n      startY = this.innerTop;\n  var innerWidth = this.innerWidth;\n  var innerHeight = this.innerHeight;\n  var itemX = startX,\n      itemY = startY;\n  var x, y, width, height; // Align zone\n\n  var childWidth, childHeight;\n\n  for (var i = 0, cnt = children.length; i < cnt; i++) {\n    child = children[i];\n\n    if (child.rexSizer.hidden) {\n      continue;\n    }\n\n    childConfig = child.rexSizer;\n    padding = childConfig.padding; // Set size\n\n    childWidth = GetExpandedChildWidth(this, child);\n    childHeight = GetExpandedChildHeight(this, child);\n\n    if (child.isRexSizer) {\n      child.layout(this, childWidth, childHeight);\n    } else {\n      ResizeGameObject(child, childWidth, childHeight);\n    }\n\n    if (childWidth === undefined) {\n      childWidth = GetDisplayWidth(child);\n    }\n\n    if (childHeight === undefined) {\n      childHeight = GetDisplayHeight(child);\n    } // Set position\n\n\n    if (this.orientation === 0) {\n      // x\n      x = itemX + padding.left;\n\n      if (childConfig.proportion === 0 || proportionLength === 0) {\n        width = childWidth;\n      } else {\n        width = childConfig.proportion * proportionLength;\n      }\n\n      y = itemY + padding.top;\n      height = innerHeight - padding.top - padding.bottom;\n    } else {\n      // y\n      x = itemX + padding.left;\n      width = innerWidth - padding.left - padding.right;\n      y = itemY + padding.top;\n\n      if (childConfig.proportion === 0 || proportionLength === 0) {\n        height = childHeight;\n      } else {\n        height = childConfig.proportion * proportionLength;\n      }\n    }\n\n    GlobZone.setPosition(x, y).setSize(width, height);\n    AlignIn(child, GlobZone, childConfig.align);\n    this.resetChildPositionState(child);\n\n    if (this.orientation === 0) {\n      // x\n      itemX += width + padding.left + padding.right + this.space.item;\n    } else {\n      // y\n      itemY += height + padding.top + padding.bottom + this.space.item;\n    }\n  } // Layout background children\n\n\n  this.layoutBackgrounds();\n  return this.postLayout();\n};\n\nexport default Layout;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/sizer/Layout.js"],"names":["GetExpandedChildWidth","GetExpandedChildHeight","ResizeGameObject","GlobZone","AlignIn","GetDisplayWidth","GetDisplayHeight","Layout","parent","newWidth","newHeight","rexSizer","hidden","dirty","preLayout","undefined","Math","max","childrenWidth","minWidth","childrenHeight","minHeight","resize","proportionLength","childrenProportion","remainder","orientation","width","height","getChildrenWidth","getChildrenHeight","children","sizerChildren","child","childConfig","padding","startX","innerLeft","startY","innerTop","innerWidth","innerHeight","itemX","itemY","x","y","childWidth","childHeight","i","cnt","length","isRexSizer","layout","left","proportion","top","bottom","right","setPosition","setSize","align","resetChildPositionState","space","item","layoutBackgrounds","postLayout"],"mappings":"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","sourcesContent":["import GetExpandedChildWidth from './GetExpandedChildWidth.js';\r\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\r\nimport ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport GlobZone from '../../../plugins/utils/actions/GlobZone.js';\r\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar Layout = function (parent, newWidth, newHeight) {\r\n    // Skip hidden or !dirty sizer\r\n    if (this.rexSizer.hidden || (!this.dirty)) {\r\n        return this;\r\n    }\r\n\r\n    this.preLayout(parent);\r\n\r\n    // Set size\r\n    if (newWidth === undefined) {\r\n        newWidth = Math.max(this.childrenWidth, this.minWidth);\r\n    }\r\n    if (newHeight === undefined) {\r\n        newHeight = Math.max(this.childrenHeight, this.minHeight);\r\n    }\r\n    this.resize(newWidth, newHeight);\r\n\r\n    var proportionLength;\r\n    if (this.childrenProportion > 0) {\r\n        var remainder = (this.orientation === 0) ?\r\n            (this.width - this.childrenWidth) :\r\n            (this.height - this.childrenHeight);\r\n\r\n        if (remainder > 0) {\r\n            remainder = (this.orientation === 0) ?\r\n                (this.width - this.getChildrenWidth(false)) :\r\n                (this.height - this.getChildrenHeight(false));\r\n            proportionLength = remainder / this.childrenProportion;\r\n        } else {\r\n            proportionLength = 0;\r\n        }\r\n    } else {\r\n        proportionLength = 0;\r\n    }\r\n    this.proportionLength = proportionLength;\r\n\r\n    // Layout children    \r\n    var children = this.sizerChildren;\r\n    var child, childConfig, padding;\r\n    var startX = this.innerLeft,\r\n        startY = this.innerTop;\r\n    var innerWidth = this.innerWidth;\r\n    var innerHeight = this.innerHeight;\r\n    var itemX = startX,\r\n        itemY = startY;\r\n    var x, y, width, height; // Align zone\r\n    var childWidth, childHeight;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child.rexSizer.hidden) {\r\n            continue;\r\n        }\r\n\r\n        childConfig = child.rexSizer;\r\n        padding = childConfig.padding;\r\n\r\n        // Set size\r\n        childWidth = GetExpandedChildWidth(this, child);\r\n        childHeight = GetExpandedChildHeight(this, child);\r\n        if (child.isRexSizer) {\r\n            child.layout(this, childWidth, childHeight);\r\n        } else {\r\n            ResizeGameObject(child, childWidth, childHeight);\r\n        }\r\n\r\n        if (childWidth === undefined) {\r\n            childWidth = GetDisplayWidth(child);\r\n        }\r\n        if (childHeight === undefined) {\r\n            childHeight = GetDisplayHeight(child);\r\n        }\r\n\r\n        // Set position\r\n        if (this.orientation === 0) { // x\r\n            x = (itemX + padding.left);\r\n            if ((childConfig.proportion === 0) || (proportionLength === 0)) {\r\n                width = childWidth;\r\n            } else {\r\n                width = (childConfig.proportion * proportionLength);\r\n            }\r\n\r\n            y = (itemY + padding.top);\r\n            height = (innerHeight - padding.top - padding.bottom);\r\n        } else { // y\r\n            x = (itemX + padding.left);\r\n            width = (innerWidth - padding.left - padding.right);\r\n\r\n            y = (itemY + padding.top);\r\n            if ((childConfig.proportion === 0) || (proportionLength === 0)) {\r\n                height = childHeight;\r\n            } else {\r\n                height = (childConfig.proportion * proportionLength);\r\n            }\r\n        }\r\n\r\n        GlobZone.setPosition(x, y).setSize(width, height);\r\n        AlignIn(child, GlobZone, childConfig.align);\r\n        this.resetChildPositionState(child);\r\n\r\n        if (this.orientation === 0) { // x\r\n            itemX += (width + padding.left + padding.right + this.space.item);\r\n        } else { // y\r\n            itemY += (height + padding.top + padding.bottom + this.space.item);\r\n        }\r\n    }\r\n\r\n    // Layout background children\r\n    this.layoutBackgrounds();\r\n\r\n    return this.postLayout();\r\n}\r\n\r\nexport default Layout;"]},"metadata":{},"sourceType":"module"}