{"ast":null,"code":"import ResizeText from './ResizeText.js';\nimport ResetTextObjectPosition from './ResetTextObjectPosition.js';\nimport GlobZone from '../../../plugins/utils/actions/GlobZone.js';\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\n\nvar Layout = function (parent, newWidth, newHeight) {\n  // Skip hidden or !dirty sizer\n  if (this.rexSizer.hidden || !this.dirty) {\n    return this;\n  }\n\n  this.preLayout(parent); // Set size\n\n  if (newWidth === undefined) {\n    newWidth = this.minWidth;\n  }\n\n  if (newHeight === undefined) {\n    newHeight = this.minHeight;\n  }\n\n  this.resize(newWidth, newHeight); // Layout children\n\n  var child, childConfig, padding;\n  var startX = this.left,\n      startY = this.top;\n  var x, y, width, height; // Align zone\n  // Layout text child\n  // Skip invisible child\n\n  child = this.textObject;\n\n  if (!child.rexSizer.hidden) {\n    childConfig = child.rexSizer;\n    padding = childConfig.padding;\n    x = startX + padding.left;\n    y = startY + padding.top;\n    width = this.width - padding.left - padding.right;\n    height = this.height - padding.top - padding.bottom;\n    ResizeText.call(this, child, width, height);\n    GlobZone.setPosition(x, y).setSize(width, height);\n    AlignIn(child, GlobZone, childConfig.align);\n    childConfig.preOffsetY = 0; // Clear preOffsetY\n\n    ResetTextObjectPosition.call(this);\n\n    if (this.textMask) {\n      this.textMask.setPosition().resize();\n      this.resetChildPositionState(this.textMask);\n    }\n  } // Layout background children\n\n\n  this.layoutBackgrounds();\n  return this.postLayout();\n};\n\nexport default Layout;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/textblock/Layout.js"],"names":["ResizeText","ResetTextObjectPosition","GlobZone","AlignIn","Layout","parent","newWidth","newHeight","rexSizer","hidden","dirty","preLayout","undefined","minWidth","minHeight","resize","child","childConfig","padding","startX","left","startY","top","x","y","width","height","textObject","right","bottom","call","setPosition","setSize","align","preOffsetY","textMask","resetChildPositionState","layoutBackgrounds","postLayout"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,iBAAvB;AACA,OAAOC,uBAAP,MAAoC,8BAApC;AACA,OAAOC,QAAP,MAAqB,4CAArB;AACA,OAAOC,OAAP,MAAoB,mDAApB;;AAEA,IAAIC,MAAM,GAAG,UAAUC,MAAV,EAAkBC,QAAlB,EAA4BC,SAA5B,EAAuC;AAChD;AACA,MAAI,KAAKC,QAAL,CAAcC,MAAd,IAAyB,CAAC,KAAKC,KAAnC,EAA2C;AACvC,WAAO,IAAP;AACH;;AAED,OAAKC,SAAL,CAAeN,MAAf,EANgD,CAQhD;;AACA,MAAIC,QAAQ,KAAKM,SAAjB,EAA4B;AACxBN,IAAAA,QAAQ,GAAG,KAAKO,QAAhB;AACH;;AACD,MAAIN,SAAS,KAAKK,SAAlB,EAA6B;AACzBL,IAAAA,SAAS,GAAG,KAAKO,SAAjB;AACH;;AACD,OAAKC,MAAL,CAAYT,QAAZ,EAAsBC,SAAtB,EAfgD,CAiBhD;;AACA,MAAIS,KAAJ,EAAWC,WAAX,EAAwBC,OAAxB;AACA,MAAIC,MAAM,GAAG,KAAKC,IAAlB;AAAA,MACIC,MAAM,GAAG,KAAKC,GADlB;AAEA,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,KAAV,EAAiBC,MAAjB,CArBgD,CAqBvB;AAEzB;AACA;;AACAV,EAAAA,KAAK,GAAG,KAAKW,UAAb;;AACA,MAAI,CAACX,KAAK,CAACR,QAAN,CAAeC,MAApB,EAA4B;AACxBQ,IAAAA,WAAW,GAAGD,KAAK,CAACR,QAApB;AACAU,IAAAA,OAAO,GAAGD,WAAW,CAACC,OAAtB;AACAK,IAAAA,CAAC,GAAIJ,MAAM,GAAGD,OAAO,CAACE,IAAtB;AACAI,IAAAA,CAAC,GAAIH,MAAM,GAAGH,OAAO,CAACI,GAAtB;AACAG,IAAAA,KAAK,GAAG,KAAKA,KAAL,GAAaP,OAAO,CAACE,IAArB,GAA4BF,OAAO,CAACU,KAA5C;AACAF,IAAAA,MAAM,GAAG,KAAKA,MAAL,GAAcR,OAAO,CAACI,GAAtB,GAA4BJ,OAAO,CAACW,MAA7C;AACA7B,IAAAA,UAAU,CAAC8B,IAAX,CAAgB,IAAhB,EAAsBd,KAAtB,EAA6BS,KAA7B,EAAoCC,MAApC;AACAxB,IAAAA,QAAQ,CAAC6B,WAAT,CAAqBR,CAArB,EAAwBC,CAAxB,EAA2BQ,OAA3B,CAAmCP,KAAnC,EAA0CC,MAA1C;AACAvB,IAAAA,OAAO,CAACa,KAAD,EAAQd,QAAR,EAAkBe,WAAW,CAACgB,KAA9B,CAAP;AAEAhB,IAAAA,WAAW,CAACiB,UAAZ,GAAyB,CAAzB,CAXwB,CAWI;;AAC5BjC,IAAAA,uBAAuB,CAAC6B,IAAxB,CAA6B,IAA7B;;AAEA,QAAI,KAAKK,QAAT,EAAmB;AACf,WAAKA,QAAL,CAAcJ,WAAd,GAA4BhB,MAA5B;AACA,WAAKqB,uBAAL,CAA6B,KAAKD,QAAlC;AACH;AAEJ,GA7C+C,CA+ChD;;;AACA,OAAKE,iBAAL;AAEA,SAAO,KAAKC,UAAL,EAAP;AACH,CAnDD;;AAqDA,eAAelC,MAAf","sourcesContent":["import ResizeText from './ResizeText.js';\r\nimport ResetTextObjectPosition from './ResetTextObjectPosition.js';\r\nimport GlobZone from '../../../plugins/utils/actions/GlobZone.js';\r\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\r\n\r\nvar Layout = function (parent, newWidth, newHeight) {\r\n    // Skip hidden or !dirty sizer\r\n    if (this.rexSizer.hidden || (!this.dirty)) {\r\n        return this;\r\n    }\r\n\r\n    this.preLayout(parent);\r\n\r\n    // Set size\r\n    if (newWidth === undefined) {\r\n        newWidth = this.minWidth;\r\n    }\r\n    if (newHeight === undefined) {\r\n        newHeight = this.minHeight;\r\n    }\r\n    this.resize(newWidth, newHeight);\r\n\r\n    // Layout children\r\n    var child, childConfig, padding;\r\n    var startX = this.left,\r\n        startY = this.top;\r\n    var x, y, width, height; // Align zone\r\n\r\n    // Layout text child\r\n    // Skip invisible child\r\n    child = this.textObject;\r\n    if (!child.rexSizer.hidden) {\r\n        childConfig = child.rexSizer;\r\n        padding = childConfig.padding;\r\n        x = (startX + padding.left);\r\n        y = (startY + padding.top);\r\n        width = this.width - padding.left - padding.right;\r\n        height = this.height - padding.top - padding.bottom;\r\n        ResizeText.call(this, child, width, height);\r\n        GlobZone.setPosition(x, y).setSize(width, height);\r\n        AlignIn(child, GlobZone, childConfig.align);\r\n\r\n        childConfig.preOffsetY = 0; // Clear preOffsetY\r\n        ResetTextObjectPosition.call(this);\r\n\r\n        if (this.textMask) {\r\n            this.textMask.setPosition().resize();\r\n            this.resetChildPositionState(this.textMask);\r\n        }\r\n\r\n    }\r\n\r\n    // Layout background children\r\n    this.layoutBackgrounds();\r\n\r\n    return this.postLayout();\r\n}\r\n\r\nexport default Layout;"]},"metadata":{},"sourceType":"module"}