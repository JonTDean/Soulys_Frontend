{"ast":null,"code":"import Pool from '../../../../pool.js';\nconst Rectangle = Phaser.Geom.Rectangle;\nvar RectanglePool = new Pool();\n\nclass HitAreaManager {\n  constructor() {\n    this.hitAreas = [];\n  }\n\n  destroy() {\n    this.clear();\n  }\n\n  clear() {\n    RectanglePool.pushMultiple(this.hitAreas);\n    return this;\n  }\n\n  add(key, x, y, width, height) {\n    var rectangle = RectanglePool.pop();\n\n    if (rectangle === null) {\n      rectangle = new Rectangle(x, y, width, height);\n    } else {\n      rectangle.setTo(x, y, width, height);\n    }\n\n    rectangle.key = key;\n    this.hitAreas.push(rectangle);\n    return this;\n  }\n\n  getFirstHitArea(x, y) {\n    var hitAreas = this.hitAreas,\n        hitArea;\n\n    for (var i = 0, cnt = hitAreas.length; i < cnt; i++) {\n      hitArea = hitAreas[i];\n\n      if (hitArea.contains(x, y)) {\n        return hitArea;\n      }\n    }\n\n    return null;\n  }\n\n  drawBounds(graphics, color, parent) {\n    if (color === undefined) {\n      color = 0xffffff;\n    }\n\n    if (parent) {\n      graphics.save().scaleCanvas(parent.scaleX, parent.scaleY).rotateCanvas(parent.rotation).translateCanvas(parent.x, parent.y);\n    }\n\n    var hitAreas = this.hitAreas,\n        hitArea;\n\n    for (var i = 0, cnt = hitAreas.length; i < cnt; i++) {\n      hitArea = hitAreas[i];\n      graphics.lineStyle(1, color).strokeRect(hitArea.x, hitArea.y, hitArea.width, hitArea.height);\n    }\n\n    if (parent) {\n      graphics.restore();\n    }\n\n    return this;\n  }\n\n}\n\nexport default HitAreaManager;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/gameobjects/text/textbase/hitareamanager/HitAreaManager.js"],"names":["Pool","Rectangle","Phaser","Geom","RectanglePool","HitAreaManager","constructor","hitAreas","destroy","clear","pushMultiple","add","key","x","y","width","height","rectangle","pop","setTo","push","getFirstHitArea","hitArea","i","cnt","length","contains","drawBounds","graphics","color","parent","undefined","save","scaleCanvas","scaleX","scaleY","rotateCanvas","rotation","translateCanvas","lineStyle","strokeRect","restore"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,qBAAjB;AAEA,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYF,SAA9B;AAEA,IAAIG,aAAa,GAAG,IAAIJ,IAAJ,EAApB;;AACA,MAAMK,cAAN,CAAqB;AACjBC,EAAAA,WAAW,GAAG;AACV,SAAKC,QAAL,GAAgB,EAAhB;AACH;;AAEDC,EAAAA,OAAO,GAAG;AACN,SAAKC,KAAL;AACH;;AAEDA,EAAAA,KAAK,GAAG;AACJL,IAAAA,aAAa,CAACM,YAAd,CAA2B,KAAKH,QAAhC;AACA,WAAO,IAAP;AACH;;AAEDI,EAAAA,GAAG,CAACC,GAAD,EAAMC,CAAN,EAASC,CAAT,EAAYC,KAAZ,EAAmBC,MAAnB,EAA2B;AAC1B,QAAIC,SAAS,GAAGb,aAAa,CAACc,GAAd,EAAhB;;AACA,QAAID,SAAS,KAAK,IAAlB,EAAwB;AACpBA,MAAAA,SAAS,GAAG,IAAIhB,SAAJ,CAAcY,CAAd,EAAiBC,CAAjB,EAAoBC,KAApB,EAA2BC,MAA3B,CAAZ;AACH,KAFD,MAEO;AACHC,MAAAA,SAAS,CAACE,KAAV,CAAgBN,CAAhB,EAAmBC,CAAnB,EAAsBC,KAAtB,EAA6BC,MAA7B;AACH;;AACDC,IAAAA,SAAS,CAACL,GAAV,GAAgBA,GAAhB;AACA,SAAKL,QAAL,CAAca,IAAd,CAAmBH,SAAnB;AACA,WAAO,IAAP;AACH;;AAEDI,EAAAA,eAAe,CAACR,CAAD,EAAIC,CAAJ,EAAO;AAClB,QAAIP,QAAQ,GAAG,KAAKA,QAApB;AAAA,QAA8Be,OAA9B;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGjB,QAAQ,CAACkB,MAA/B,EAAuCF,CAAC,GAAGC,GAA3C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,OAAO,GAAGf,QAAQ,CAACgB,CAAD,CAAlB;;AACA,UAAID,OAAO,CAACI,QAAR,CAAiBb,CAAjB,EAAoBC,CAApB,CAAJ,EAA4B;AACxB,eAAOQ,OAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH;;AAEDK,EAAAA,UAAU,CAACC,QAAD,EAAWC,KAAX,EAAkBC,MAAlB,EAA0B;AAChC,QAAID,KAAK,KAAKE,SAAd,EAAyB;AACrBF,MAAAA,KAAK,GAAG,QAAR;AACH;;AAED,QAAIC,MAAJ,EAAY;AACRF,MAAAA,QAAQ,CACHI,IADL,GAEKC,WAFL,CAEiBH,MAAM,CAACI,MAFxB,EAEgCJ,MAAM,CAACK,MAFvC,EAGKC,YAHL,CAGkBN,MAAM,CAACO,QAHzB,EAIKC,eAJL,CAIqBR,MAAM,CAACjB,CAJ5B,EAI+BiB,MAAM,CAAChB,CAJtC;AAKH;;AAED,QAAIP,QAAQ,GAAG,KAAKA,QAApB;AAAA,QAA8Be,OAA9B;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGjB,QAAQ,CAACkB,MAA/B,EAAuCF,CAAC,GAAGC,GAA3C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,OAAO,GAAGf,QAAQ,CAACgB,CAAD,CAAlB;AACAK,MAAAA,QAAQ,CAACW,SAAT,CAAmB,CAAnB,EAAsBV,KAAtB,EAA6BW,UAA7B,CAAwClB,OAAO,CAACT,CAAhD,EAAmDS,OAAO,CAACR,CAA3D,EAA8DQ,OAAO,CAACP,KAAtE,EAA6EO,OAAO,CAACN,MAArF;AACH;;AAED,QAAIc,MAAJ,EAAY;AACRF,MAAAA,QAAQ,CACHa,OADL;AAEH;;AACD,WAAO,IAAP;AACH;;AA7DgB;;AA+DrB,eAAepC,cAAf","sourcesContent":["import Pool from '../../../../pool.js';\r\n\r\nconst Rectangle = Phaser.Geom.Rectangle;\r\n\r\nvar RectanglePool = new Pool();\r\nclass HitAreaManager {\r\n    constructor() {\r\n        this.hitAreas = [];\r\n    }\r\n\r\n    destroy() {\r\n        this.clear();\r\n    }\r\n\r\n    clear() {\r\n        RectanglePool.pushMultiple(this.hitAreas);\r\n        return this;\r\n    }\r\n\r\n    add(key, x, y, width, height) {\r\n        var rectangle = RectanglePool.pop();\r\n        if (rectangle === null) {\r\n            rectangle = new Rectangle(x, y, width, height);\r\n        } else {\r\n            rectangle.setTo(x, y, width, height);\r\n        }\r\n        rectangle.key = key;\r\n        this.hitAreas.push(rectangle);\r\n        return this;\r\n    }\r\n\r\n    getFirstHitArea(x, y) {\r\n        var hitAreas = this.hitAreas, hitArea;\r\n        for (var i = 0, cnt = hitAreas.length; i < cnt; i++) {\r\n            hitArea = hitAreas[i];\r\n            if (hitArea.contains(x, y)) {\r\n                return hitArea;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    drawBounds(graphics, color, parent) {\r\n        if (color === undefined) {\r\n            color = 0xffffff;\r\n        }\r\n\r\n        if (parent) {\r\n            graphics\r\n                .save()\r\n                .scaleCanvas(parent.scaleX, parent.scaleY)\r\n                .rotateCanvas(parent.rotation)\r\n                .translateCanvas(parent.x, parent.y)\r\n        }\r\n\r\n        var hitAreas = this.hitAreas, hitArea;\r\n        for (var i = 0, cnt = hitAreas.length; i < cnt; i++) {\r\n            hitArea = hitAreas[i];\r\n            graphics.lineStyle(1, color).strokeRect(hitArea.x, hitArea.y, hitArea.width, hitArea.height);\r\n        }\r\n\r\n        if (parent) {\r\n            graphics\r\n                .restore()\r\n        }\r\n        return this;\r\n    }\r\n}\r\nexport default HitAreaManager;"]},"metadata":{},"sourceType":"module"}