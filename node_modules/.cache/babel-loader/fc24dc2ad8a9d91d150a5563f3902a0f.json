{"ast":null,"code":"import DataMethods from '../../utils/data/DataMethods.js';\n\nclass Cell {\n  constructor(parent, config) {\n    this.container = null;\n    this._deltaHeight = 0;\n    this.setParent(parent); // this.resetFromJSON(config);\n  }\n\n  setParent(parent) {\n    this.parent = parent; // parent: table\n\n    this.parentContainer = parent.getParentContainer();\n  } // resetFromJSON(o) {\n  //     return this;\n  // }\n\n\n  destroy(fromScene) {\n    if (fromScene === undefined) {\n      fromScene = false;\n    }\n\n    if (!fromScene) {\n      this.destroyContainer();\n    }\n\n    this.deltaHeight = 0;\n    this.data = undefined;\n    this.container = null;\n    this.parent = undefined;\n    this.parentContainer = undefined;\n  }\n\n  get table() {\n    return this.parent;\n  }\n\n  get scrollMode() {\n    return this.parentContainer.scrollMode;\n  }\n\n  get colIndx() {\n    return this.parent.cellIndxeToColIndex(this.index);\n  }\n\n  get rowIndx() {\n    return this.parent.cellIndxeToRowIndex(this.index);\n  }\n\n  getContainer() {\n    return this.container;\n  }\n\n  setContainer(container) {\n    if (!container) {\n      this.destroyContainer();\n      return this;\n    }\n\n    if (this.container) {\n      this.container.destroy();\n    }\n\n    this.container = container;\n    this.parentContainer.add(container);\n    return this;\n  }\n\n  destroyContainer() {\n    if (this.container) {\n      this.container.destroy();\n      this.container = null;\n    }\n\n    return this;\n  }\n\n  popContainer() {\n    if (this.container) {\n      var container = this.container;\n      this.container = null;\n      this.parentContainer.remove(container);\n      return container;\n    } else {\n      return null;\n    }\n  }\n\n  setXY(x, y) {\n    if (this.container) {\n      this.parentContainer.setChildLocalPosition(this.container, x, y);\n    }\n\n    return this;\n  }\n\n  get deltaHeight() {\n    return this._deltaHeight;\n  }\n\n  set deltaHeight(deltaHeight) {\n    if (deltaHeight == null) {\n      deltaHeight = 0;\n    }\n\n    var table = this.parent;\n\n    if (this._deltaHeight === 0 && deltaHeight !== 0) {\n      table.nonZeroDeltaHeightCount++;\n    } else if (this._deltaHeight !== 0 && deltaHeight === 0) {\n      table.nonZeroDeltaHeightCount--;\n    }\n\n    this._deltaHeight = deltaHeight;\n  }\n\n  get deltaWidth() {\n    return this.deltaHeight;\n  }\n\n  set deltaWidth(deltaWidth) {\n    this.deltaHeight = deltaWidth;\n  }\n\n  setDeltaHeight(deltaHeight) {\n    this.deltaHeight = deltaHeight;\n    return this;\n  }\n\n  setDeltaWidth(deltaWidth) {\n    this.deltaHeight = deltaWidth;\n    return this;\n  }\n\n  get height() {\n    if (this.scrollMode === 0) {\n      return this.deltaHeight + this.parent.defaultCellHeight;\n    } else {\n      return this.parent.defaultCellWidth;\n    }\n  }\n\n  set height(height) {\n    // Only worked when scrollMode is 0\n    if (this.scrollMode === 1) {\n      return;\n    }\n\n    this.setDeltaHeight(height - this.parent.defaultCellHeight);\n  }\n\n  setHeight(height) {\n    // Only worked when scrollMode is 0\n    this.height = height;\n    return this;\n  }\n\n  get width() {\n    if (this.scrollMode === 0) {\n      return this.parent.defaultCellWidth;\n    } else {\n      return this.deltaHeight + this.parent.defaultCellHeight;\n    }\n  }\n\n  set width(width) {\n    // Only worked when scrollMode is 1\n    if (this.scrollMode === 0) {\n      return;\n    }\n\n    this.setDeltaHeight(width - this.parent.defaultCellHeight);\n  }\n\n  setWidth(width) {\n    this.width = width;\n    return this;\n  }\n\n  get scene() {\n    return this.parentContainer.scene;\n  }\n\n}\n\n;\nObject.assign(Cell.prototype, DataMethods);\nexport default Cell;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/Cell.js"],"names":["DataMethods","Cell","constructor","parent","config","container","_deltaHeight","setParent","parentContainer","getParentContainer","destroy","fromScene","undefined","destroyContainer","deltaHeight","data","table","scrollMode","colIndx","cellIndxeToColIndex","index","rowIndx","cellIndxeToRowIndex","getContainer","setContainer","add","popContainer","remove","setXY","x","y","setChildLocalPosition","nonZeroDeltaHeightCount","deltaWidth","setDeltaHeight","setDeltaWidth","height","defaultCellHeight","defaultCellWidth","setHeight","width","setWidth","scene","Object","assign","prototype"],"mappings":"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","sourcesContent":["import DataMethods from '../../utils/data/DataMethods.js';\r\n\r\nclass Cell {\r\n    constructor(parent, config) {\r\n        this.container = null;\r\n        this._deltaHeight = 0;\r\n        this.setParent(parent);\r\n        // this.resetFromJSON(config);\r\n    }\r\n\r\n    setParent(parent) {\r\n        this.parent = parent; // parent: table\r\n        this.parentContainer = parent.getParentContainer();\r\n    }\r\n\r\n    // resetFromJSON(o) {\r\n    //     return this;\r\n    // }\r\n\r\n    destroy(fromScene) {\r\n        if (fromScene === undefined) {\r\n            fromScene = false;\r\n        }\r\n\r\n        if (!fromScene) {\r\n            this.destroyContainer();\r\n        }\r\n\r\n        this.deltaHeight = 0;\r\n        this.data = undefined;\r\n        this.container = null;\r\n        this.parent = undefined;\r\n        this.parentContainer = undefined;\r\n    }\r\n\r\n    get table() {\r\n        return this.parent;\r\n    }\r\n\r\n    get scrollMode() {\r\n        return this.parentContainer.scrollMode;\r\n    }\r\n\r\n    get colIndx() {\r\n        return this.parent.cellIndxeToColIndex(this.index);\r\n    }\r\n\r\n    get rowIndx() {\r\n        return this.parent.cellIndxeToRowIndex(this.index);\r\n    }\r\n\r\n    getContainer() {\r\n        return this.container;\r\n    }\r\n\r\n    setContainer(container) {\r\n        if (!container) {\r\n            this.destroyContainer();\r\n            return this;\r\n        }\r\n\r\n        if (this.container) {\r\n            this.container.destroy();\r\n        }\r\n        this.container = container;\r\n        this.parentContainer.add(container);\r\n        return this;\r\n    }\r\n\r\n    destroyContainer() {\r\n        if (this.container) {\r\n            this.container.destroy();\r\n            this.container = null;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    popContainer() {\r\n        if (this.container) {\r\n            var container = this.container;\r\n            this.container = null;\r\n            this.parentContainer.remove(container);\r\n            return container;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    setXY(x, y) {\r\n        if (this.container) {\r\n            this.parentContainer.setChildLocalPosition(this.container, x, y);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get deltaHeight() {\r\n        return this._deltaHeight;\r\n    }\r\n\r\n    set deltaHeight(deltaHeight) {\r\n        if (deltaHeight == null) {\r\n            deltaHeight = 0;\r\n        }\r\n        var table = this.parent;\r\n        if ((this._deltaHeight === 0) && (deltaHeight !== 0)) {\r\n            table.nonZeroDeltaHeightCount++;\r\n        } else if ((this._deltaHeight !== 0) && (deltaHeight === 0)) {\r\n            table.nonZeroDeltaHeightCount--;\r\n        }\r\n\r\n        this._deltaHeight = deltaHeight;\r\n    }\r\n\r\n    get deltaWidth() {\r\n        return this.deltaHeight;\r\n    }\r\n\r\n    set deltaWidth(deltaWidth) {\r\n        this.deltaHeight = deltaWidth;\r\n    }\r\n\r\n    setDeltaHeight(deltaHeight) {\r\n        this.deltaHeight = deltaHeight;\r\n        return this;\r\n    }\r\n\r\n    setDeltaWidth(deltaWidth) {\r\n        this.deltaHeight = deltaWidth;\r\n        return this;\r\n    }\r\n\r\n    get height() {\r\n        if (this.scrollMode === 0) {\r\n            return this.deltaHeight + this.parent.defaultCellHeight;\r\n        } else {\r\n            return this.parent.defaultCellWidth;\r\n        }\r\n    }\r\n\r\n    set height(height) {\r\n        // Only worked when scrollMode is 0\r\n        if (this.scrollMode === 1) {\r\n            return;\r\n        }\r\n        this.setDeltaHeight(height - this.parent.defaultCellHeight);\r\n    }\r\n\r\n    setHeight(height) {\r\n        // Only worked when scrollMode is 0\r\n        this.height = height;\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        if (this.scrollMode === 0) {\r\n            return this.parent.defaultCellWidth;\r\n        } else {\r\n            return this.deltaHeight + this.parent.defaultCellHeight;\r\n        }\r\n    }\r\n\r\n    set width(width) {\r\n        // Only worked when scrollMode is 1\r\n        if (this.scrollMode === 0) {\r\n            return;\r\n        }\r\n        this.setDeltaHeight(width - this.parent.defaultCellHeight);\r\n    }\r\n\r\n    setWidth(width) {\r\n        this.width = width;\r\n        return this;\r\n    }\r\n\r\n    get scene() {\r\n        return this.parentContainer.scene;\r\n    }\r\n};\r\n\r\n\r\nObject.assign(\r\n    Cell.prototype,\r\n    DataMethods\r\n);\r\n\r\n\r\nexport default Cell;"]},"metadata":{},"sourceType":"module"}