{"ast":null,"code":"var SetChart = function (config) {\n  if (!window.Chart) {\n    var msg = `Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');`;\n    console.error(msg);\n    return this;\n  }\n\n  if (this.chart) {\n    this.chart.destroy();\n  }\n\n  this.chart = new Chart(this.context, FillConfig(this, config));\n  return this;\n};\n\nvar FillConfig = function (canvas, config) {\n  // Get options\n  if (config === undefined) {\n    config = {};\n  }\n\n  if (config.options === undefined) {\n    config.options = {};\n  }\n\n  var options = config.options; // Fill options\n\n  options.responsive = false;\n  options.maintainAspectRatio = false;\n\n  if (!options.hasOwnProperty('devicePixelRatio')) {\n    options.devicePixelRatio = 1;\n  } // Get animation config\n\n\n  var noAnimation = false;\n\n  if (options.animation === undefined) {\n    options.animation = {};\n  } else if (options.animation === false) {\n    noAnimation = true;\n    options.animation = {};\n  }\n\n  var animationConfig = options.animation; // Fill animation config\n\n  if (noAnimation) {\n    animationConfig.duration = 0;\n  }\n\n  var onProgress = animationConfig.onProgress;\n\n  animationConfig.onProgress = function (animation) {\n    if (onProgress) {\n      onProgress(animation);\n    }\n\n    canvas.needRedraw();\n  };\n\n  var onComplete = animationConfig.onComplete;\n\n  animationConfig.onComplete = function (animation) {\n    if (onComplete) {\n      onComplete(animation);\n    }\n\n    canvas.needRedraw();\n  };\n\n  return config;\n};\n\nexport default SetChart;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/templates/ui/chart/SetChart.js"],"names":["SetChart","config","window","Chart","msg","console","error","chart","destroy","context","FillConfig","canvas","undefined","options","responsive","maintainAspectRatio","hasOwnProperty","devicePixelRatio","noAnimation","animation","animationConfig","duration","onProgress","needRedraw","onComplete"],"mappings":"AAAA,IAAIA,QAAQ,GAAG,UAAUC,MAAV,EAAkB;AAC7B,MAAI,CAACC,MAAM,CAACC,KAAZ,EAAmB;AACf,QAAIC,GAAG,GAAI;oGAAX;AAEAC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,WAAO,IAAP;AACH;;AAED,MAAI,KAAKG,KAAT,EAAgB;AACZ,SAAKA,KAAL,CAAWC,OAAX;AACH;;AACD,OAAKD,KAAL,GAAa,IAAIJ,KAAJ,CAAU,KAAKM,OAAf,EAAwBC,UAAU,CAAC,IAAD,EAAOT,MAAP,CAAlC,CAAb;AACA,SAAO,IAAP;AACH,CAbD;;AAeA,IAAIS,UAAU,GAAG,UAAUC,MAAV,EAAkBV,MAAlB,EAA0B;AACvC;AACA,MAAIA,MAAM,KAAKW,SAAf,EAA0B;AACtBX,IAAAA,MAAM,GAAG,EAAT;AACH;;AACD,MAAIA,MAAM,CAACY,OAAP,KAAmBD,SAAvB,EAAkC;AAC9BX,IAAAA,MAAM,CAACY,OAAP,GAAiB,EAAjB;AACH;;AACD,MAAIA,OAAO,GAAGZ,MAAM,CAACY,OAArB,CARuC,CAUvC;;AACAA,EAAAA,OAAO,CAACC,UAAR,GAAqB,KAArB;AACAD,EAAAA,OAAO,CAACE,mBAAR,GAA8B,KAA9B;;AACA,MAAI,CAACF,OAAO,CAACG,cAAR,CAAuB,kBAAvB,CAAL,EAAiD;AAC7CH,IAAAA,OAAO,CAACI,gBAAR,GAA2B,CAA3B;AACH,GAfsC,CAiBvC;;;AACA,MAAIC,WAAW,GAAG,KAAlB;;AACA,MAAIL,OAAO,CAACM,SAAR,KAAsBP,SAA1B,EAAqC;AACjCC,IAAAA,OAAO,CAACM,SAAR,GAAoB,EAApB;AACH,GAFD,MAEO,IAAIN,OAAO,CAACM,SAAR,KAAsB,KAA1B,EAAiC;AACpCD,IAAAA,WAAW,GAAG,IAAd;AACAL,IAAAA,OAAO,CAACM,SAAR,GAAoB,EAApB;AACH;;AACD,MAAIC,eAAe,GAAGP,OAAO,CAACM,SAA9B,CAzBuC,CA2BvC;;AACA,MAAID,WAAJ,EAAiB;AACbE,IAAAA,eAAe,CAACC,QAAhB,GAA2B,CAA3B;AACH;;AAED,MAAIC,UAAU,GAAGF,eAAe,CAACE,UAAjC;;AACAF,EAAAA,eAAe,CAACE,UAAhB,GAA6B,UAAUH,SAAV,EAAqB;AAC9C,QAAIG,UAAJ,EAAgB;AACZA,MAAAA,UAAU,CAACH,SAAD,CAAV;AACH;;AACDR,IAAAA,MAAM,CAACY,UAAP;AACH,GALD;;AAOA,MAAIC,UAAU,GAAGJ,eAAe,CAACI,UAAjC;;AACAJ,EAAAA,eAAe,CAACI,UAAhB,GAA6B,UAAUL,SAAV,EAAqB;AAC9C,QAAIK,UAAJ,EAAgB;AACZA,MAAAA,UAAU,CAACL,SAAD,CAAV;AACH;;AACDR,IAAAA,MAAM,CAACY,UAAP;AACH,GALD;;AAMA,SAAOtB,MAAP;AACH,CAhDD;;AAkDA,eAAeD,QAAf","sourcesContent":["var SetChart = function (config) {\r\n    if (!window.Chart) {\r\n        var msg = `Can not find chartjs! Load chartjs in preload stage.\r\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');`\r\n        console.error(msg);\r\n        return this;\r\n    }\r\n\r\n    if (this.chart) {\r\n        this.chart.destroy();        \r\n    }\r\n    this.chart = new Chart(this.context, FillConfig(this, config));\r\n    return this;\r\n}\r\n\r\nvar FillConfig = function (canvas, config) {\r\n    // Get options\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n    if (config.options === undefined) {\r\n        config.options = {};\r\n    }\r\n    var options = config.options;\r\n\r\n    // Fill options\r\n    options.responsive = false;\r\n    options.maintainAspectRatio = false;\r\n    if (!options.hasOwnProperty('devicePixelRatio')) {\r\n        options.devicePixelRatio = 1;\r\n    }\r\n\r\n    // Get animation config\r\n    var noAnimation = false;\r\n    if (options.animation === undefined) {\r\n        options.animation = {};\r\n    } else if (options.animation === false) {\r\n        noAnimation = true;\r\n        options.animation = {};\r\n    }\r\n    var animationConfig = options.animation;\r\n\r\n    // Fill animation config\r\n    if (noAnimation) {\r\n        animationConfig.duration = 0;\r\n    }\r\n\r\n    var onProgress = animationConfig.onProgress;\r\n    animationConfig.onProgress = function (animation) {\r\n        if (onProgress) {\r\n            onProgress(animation);\r\n        }\r\n        canvas.needRedraw();\r\n    }\r\n\r\n    var onComplete = animationConfig.onComplete;\r\n    animationConfig.onComplete = function (animation) {\r\n        if (onComplete) {\r\n            onComplete(animation);\r\n        }\r\n        canvas.needRedraw();\r\n    }\r\n    return config;\r\n}\r\n\r\nexport default SetChart;"]},"metadata":{},"sourceType":"module"}