{"ast":null,"code":"const Color = Phaser.Display.Color;\nexport default {\n  clear() {\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.dirty = true;\n    return this;\n  },\n\n  fill(color) {\n    this.context.fillStyle = color;\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.dirty = true;\n    return this;\n  },\n\n  loadFromURL(url, callback) {\n    var self = this;\n    var img = new Image();\n\n    img.onload = function () {\n      if (self.width !== img.width || self.height !== img.height) {\n        self.resize(img.width, img.height);\n      } else {\n        self.clear();\n      }\n\n      self.context.drawImage(img, 0, 0);\n      self.updateTexture();\n\n      if (callback) {\n        callback();\n      }\n\n      img.onload = null;\n      img.src = '';\n      img.remove();\n    };\n\n    img.src = url;\n    return this;\n  },\n\n  loadFromURLPromise(url) {\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.loadFromURL(url, resolve);\n    });\n  },\n\n  getDataURL(type, encoderOptions) {\n    return this.canvas.toDataURL(type, encoderOptions);\n  },\n\n  getPixel(x, y, out) {\n    if (out === undefined) {\n      out = new Color();\n    }\n\n    var rgb = this.context.getImageData(x, y, 1, 1);\n    out.setTo(rgb.data[0], rgb.data[1], rgb.data[2], rgb.data[3]);\n    return out;\n  },\n\n  setPixel(x, y, r, g, b, a) {\n    if (typeof r !== 'number') {\n      var color = r;\n      r = color.red;\n      g = color.green;\n      b = color.blue;\n      a = color.alpha;\n    }\n\n    if (a === undefined) {\n      a = r !== 0 || g !== 0 || b !== 0 ? 255 : 0;\n    }\n\n    var imgData = this.context.createImageData(1, 1);\n    imgData.data[0] = r;\n    imgData.data[1] = g;\n    imgData.data[2] = b;\n    imgData.data[3] = a;\n    this.context.putImageData(imgData, x, y);\n    this.dirty = true;\n    return this;\n  }\n\n};","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/CanvasMethods.js"],"names":["Color","Phaser","Display","clear","context","clearRect","canvas","width","height","dirty","fill","color","fillStyle","fillRect","loadFromURL","url","callback","self","img","Image","onload","resize","drawImage","updateTexture","src","remove","loadFromURLPromise","Promise","resolve","reject","getDataURL","type","encoderOptions","toDataURL","getPixel","x","y","out","undefined","rgb","getImageData","setTo","data","setPixel","r","g","b","a","red","green","blue","alpha","imgData","createImageData","putImageData"],"mappings":"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","sourcesContent":["const Color = Phaser.Display.Color;\r\n\r\nexport default {\r\n    clear() {\r\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.dirty = true;\r\n        return this;\r\n    },\r\n\r\n    fill(color) {\r\n        this.context.fillStyle = color;\r\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.dirty = true;\r\n        return this;\r\n    },\r\n\r\n    loadFromURL(url, callback) {\r\n        var self = this;\r\n        var img = new Image();\r\n        img.onload = function () {\r\n            if ((self.width !== img.width) || (self.height !== img.height)) {\r\n                self.resize(img.width, img.height);\r\n            } else {\r\n                self.clear();\r\n            }\r\n            self.context.drawImage(img, 0, 0);\r\n            self.updateTexture();\r\n\r\n            if (callback) {\r\n                callback();\r\n            }\r\n\r\n            img.onload = null;\r\n            img.src = '';\r\n            img.remove();\r\n        }\r\n        img.src = url;\r\n        return this;\r\n    },\r\n\r\n    loadFromURLPromise(url) {\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            self.loadFromURL(url, resolve);\r\n        });\r\n    },\r\n\r\n    getDataURL(type, encoderOptions) {\r\n        return this.canvas.toDataURL(type, encoderOptions);\r\n    },\r\n\r\n    getPixel(x, y, out) {\r\n        if (out === undefined) {\r\n            out = new Color();\r\n        }\r\n        var rgb = this.context.getImageData(x, y, 1, 1);\r\n        out.setTo(rgb.data[0], rgb.data[1], rgb.data[2], rgb.data[3])\r\n        return out;\r\n    },\r\n\r\n    setPixel(x, y, r, g, b, a) {\r\n        if (typeof (r) !== 'number') {\r\n            var color = r;\r\n            r = color.red;\r\n            g = color.green;\r\n            b = color.blue;\r\n            a = color.alpha;\r\n        }\r\n\r\n        if (a === undefined) {\r\n            a = ((r !== 0) || (g !== 0) || (b !== 0)) ? 255 : 0;\r\n        }\r\n\r\n        var imgData = this.context.createImageData(1, 1);\r\n        imgData.data[0] = r;\r\n        imgData.data[1] = g;\r\n        imgData.data[2] = b;\r\n        imgData.data[3] = a;\r\n        this.context.putImageData(imgData, x, y);\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}