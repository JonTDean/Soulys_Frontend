{"ast":null,"code":"import { BaseURL } from '../../Site/Utilities/UserUtil'; // Handles User Sign Up Fetch\n\nexport function handleSignUpForm(e, state, login) {\n  e.preventDefault();\n  fetch(BaseURL(`users`), {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(state)\n  }).then(resp => resp.json()).then(data => {\n    const {\n      user,\n      token\n    } = data; // SETS USER STATE\n\n    login(user); // Saves Token to Local Storage\n\n    localStorage.token = token;\n  });\n}\n; // Handles User Login Fetch\n\nexport function handleLoginForm(e, state, login) {\n  e.preventDefault();\n  fetch(BaseURL('login'), {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(state)\n  }).then(resp => resp.json()).then(data => {\n    // console.log(`DATA:`, data)\n    const {\n      user,\n      token\n    } = data; // SETS USER STATE\n\n    login(user); // Saves Token to Local Storage\n\n    localStorage.token = token;\n  });\n} // Handles User Login Persistence\n\nexport function handleLoginPersist(url, login, token) {\n  fetch(BaseURL(url), {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(resp => resp.json()).then(data => {\n    // SETS USER STATE\n    if (!data.error) {\n      login(data);\n    }\n  });\n} // Handles User Update Fetch\n\nexport function handleUpdateForm(e, state, token) {\n  e.preventDefault();\n  fetch(BaseURL('profile'), {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    },\n    body: JSON.stringify(state)\n  }).then(resp => resp.json()).then(console.log);\n} // Handles User Delete Fetch\n\nexport default function handleDelete(e, token) {\n  fetch(BaseURL(users), {\n    method: \"DELETE\",\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(console.log);\n}","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/src/components/Site/Fetch_Requests/User_Fetch_Requests.js"],"names":["BaseURL","handleSignUpForm","e","state","login","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","data","user","token","localStorage","handleLoginForm","handleLoginPersist","url","error","handleUpdateForm","console","log","handleDelete","users"],"mappings":"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","sourcesContent":["import { BaseURL } from '../../Site/Utilities/UserUtil';\n\n// Handles User Sign Up Fetch\nexport function handleSignUpForm(e, state, login){\n    e.preventDefault();\n\n    fetch(BaseURL(`users`), {\n        method: \"POST\",\n        headers:{\n            \"Content-Type\": \"application/json\"\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(data => {\n        const {user, token} = data\n\n        // SETS USER STATE\n        login(user)\n        // Saves Token to Local Storage\n        localStorage.token = token\n    })\n};\n\n// Handles User Login Fetch\nexport function handleLoginForm(e, state, login){\n    e.preventDefault();\n\n    fetch(BaseURL('login'), {\n        method: \"POST\",\n        headers:{\n            \"Content-Type\": \"application/json\"\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(data => {\n        // console.log(`DATA:`, data)\n        const { user, token } = data\n        // SETS USER STATE\n        login(user)\n        // Saves Token to Local Storage\n        localStorage.token = token;\n    })\n}\n\n// Handles User Login Persistence\nexport function handleLoginPersist(url, login, token){\n    fetch(BaseURL(url),{\n        headers: {\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then(resp => resp.json())\n    .then(data => {\n    // SETS USER STATE\n        if(!data.error){\n            login(data)\n        }\n\n    })\n}\n\n// Handles User Update Fetch\nexport function handleUpdateForm(e, state, token){\n    e.preventDefault();\n\n    fetch(BaseURL('profile'), {\n        method: \"PATCH\",\n        headers:{\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        },\n        body:JSON.stringify(state)\n    })\n    .then(resp => resp.json())\n    .then(console.log)\n}\n\n// Handles User Delete Fetch\nexport default function handleDelete(e, token){\n\n    fetch(BaseURL(users),{\n        method: \"DELETE\",\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        }\n    })\n    .then(console.log)\n}"]},"metadata":{},"sourceType":"module"}