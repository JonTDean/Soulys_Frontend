{"ast":null,"code":"import CONST from '../const.js';\nconst GetValue = Phaser.Utils.Objects.GetValue;\nconst NO_NEWLINE = CONST.NO_NEWLINE;\nconst RAW_NEWLINE = CONST.RAW_NEWLINE;\n\nclass Pen {\n  constructor(config) {\n    this.prop = {};\n    this.resetFromJSON(config);\n  }\n\n  resetFromJSON(o) {\n    // (txt, x, y, width, prop, newLineMode, startIndex)\n    this.text = GetValue(o, 'text', '');\n    this.x = GetValue(o, 'x', 0);\n    this.y = GetValue(o, 'y', 0);\n    this.width = GetValue(o, 'width', 0);\n    var prop = GetValue(o, 'prop', null);\n\n    if (prop === null) {\n      prop = {};\n    }\n\n    this.prop = prop;\n    this.newLineMode = GetValue(o, 'newLineMode', 0);\n    this.startIndex = GetValue(o, 'startIndex', 0);\n  }\n\n  get plainText() {\n    var txt = this.text;\n\n    if (this.newLineMode === RAW_NEWLINE) {\n      txt += \"\\n\";\n    }\n\n    return txt;\n  }\n\n  get wrapText() {\n    var txt = this.text;\n\n    if (this.newLineMode !== NO_NEWLINE) {\n      txt += \"\\n\";\n    }\n\n    return txt;\n  }\n\n  get rawTextLength() {\n    var len = this.text.length;\n\n    if (this.newLineMode === RAW_NEWLINE) {\n      len += 1;\n    }\n\n    return len;\n  }\n\n  get endIndex() {\n    return this.startIndex + this.rawTextLength;\n  }\n\n  get lastX() {\n    return this.x + this.width;\n  }\n\n  get isTextPen() {\n    return this.text !== '';\n  }\n\n  get isImagePen() {\n    return !!this.prop.img;\n  }\n\n  get hasAreaMarker() {\n    return !!this.prop.area;\n  }\n\n}\n\n;\nexport default Pen;","map":{"version":3,"sources":["/home/jon/code/Projects/Soulys/frontend/node_modules/phaser3-rex-plugins/plugins/gameobjects/text/textbase/penmanger/Pen.js"],"names":["CONST","GetValue","Phaser","Utils","Objects","NO_NEWLINE","RAW_NEWLINE","Pen","constructor","config","prop","resetFromJSON","o","text","x","y","width","newLineMode","startIndex","plainText","txt","wrapText","rawTextLength","len","length","endIndex","lastX","isTextPen","isImagePen","img","hasAreaMarker","area"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AAEA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,KAAP,CAAaC,OAAb,CAAqBH,QAAtC;AACA,MAAMI,UAAU,GAAGL,KAAK,CAACK,UAAzB;AACA,MAAMC,WAAW,GAAGN,KAAK,CAACM,WAA1B;;AAEA,MAAMC,GAAN,CAAU;AACNC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKC,aAAL,CAAmBF,MAAnB;AACH;;AAEDE,EAAAA,aAAa,CAACC,CAAD,EAAI;AAAE;AACf,SAAKC,IAAL,GAAYZ,QAAQ,CAACW,CAAD,EAAI,MAAJ,EAAY,EAAZ,CAApB;AACA,SAAKE,CAAL,GAASb,QAAQ,CAACW,CAAD,EAAI,GAAJ,EAAS,CAAT,CAAjB;AACA,SAAKG,CAAL,GAASd,QAAQ,CAACW,CAAD,EAAI,GAAJ,EAAS,CAAT,CAAjB;AACA,SAAKI,KAAL,GAAaf,QAAQ,CAACW,CAAD,EAAI,OAAJ,EAAa,CAAb,CAArB;AAEA,QAAIF,IAAI,GAAGT,QAAQ,CAACW,CAAD,EAAI,MAAJ,EAAY,IAAZ,CAAnB;;AACA,QAAIF,IAAI,KAAK,IAAb,EAAmB;AACfA,MAAAA,IAAI,GAAG,EAAP;AACH;;AACD,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAKO,WAAL,GAAmBhB,QAAQ,CAACW,CAAD,EAAI,aAAJ,EAAmB,CAAnB,CAA3B;AACA,SAAKM,UAAL,GAAkBjB,QAAQ,CAACW,CAAD,EAAI,YAAJ,EAAkB,CAAlB,CAA1B;AACH;;AAED,MAAIO,SAAJ,GAAgB;AACZ,QAAIC,GAAG,GAAG,KAAKP,IAAf;;AACA,QAAI,KAAKI,WAAL,KAAqBX,WAAzB,EAAsC;AAClCc,MAAAA,GAAG,IAAI,IAAP;AACH;;AAED,WAAOA,GAAP;AACH;;AAED,MAAIC,QAAJ,GAAe;AACX,QAAID,GAAG,GAAG,KAAKP,IAAf;;AACA,QAAI,KAAKI,WAAL,KAAqBZ,UAAzB,EAAqC;AACjCe,MAAAA,GAAG,IAAI,IAAP;AACH;;AAED,WAAOA,GAAP;AACH;;AAED,MAAIE,aAAJ,GAAoB;AAChB,QAAIC,GAAG,GAAG,KAAKV,IAAL,CAAUW,MAApB;;AACA,QAAI,KAAKP,WAAL,KAAqBX,WAAzB,EAAsC;AAClCiB,MAAAA,GAAG,IAAI,CAAP;AACH;;AACD,WAAOA,GAAP;AACH;;AAED,MAAIE,QAAJ,GAAe;AACX,WAAO,KAAKP,UAAL,GAAkB,KAAKI,aAA9B;AACH;;AAED,MAAII,KAAJ,GAAY;AACR,WAAO,KAAKZ,CAAL,GAAS,KAAKE,KAArB;AACH;;AAED,MAAIW,SAAJ,GAAgB;AACZ,WAAQ,KAAKd,IAAL,KAAc,EAAtB;AACH;;AAED,MAAIe,UAAJ,GAAiB;AACb,WAAO,CAAC,CAAC,KAAKlB,IAAL,CAAUmB,GAAnB;AACH;;AAED,MAAIC,aAAJ,GAAoB;AAChB,WAAO,CAAC,CAAC,KAAKpB,IAAL,CAAUqB,IAAnB;AACH;;AAjEK;;AAkET;AAED,eAAexB,GAAf","sourcesContent":["import CONST from '../const.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst NO_NEWLINE = CONST.NO_NEWLINE;\r\nconst RAW_NEWLINE = CONST.RAW_NEWLINE;\r\n\r\nclass Pen {\r\n    constructor(config) {\r\n        this.prop = {};\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) { // (txt, x, y, width, prop, newLineMode, startIndex)\r\n        this.text = GetValue(o, 'text', '');\r\n        this.x = GetValue(o, 'x', 0);\r\n        this.y = GetValue(o, 'y', 0);\r\n        this.width = GetValue(o, 'width', 0);\r\n\r\n        var prop = GetValue(o, 'prop', null);\r\n        if (prop === null) {\r\n            prop = {};\r\n        }\r\n        this.prop = prop;\r\n        this.newLineMode = GetValue(o, 'newLineMode', 0);\r\n        this.startIndex = GetValue(o, 'startIndex', 0);\r\n    }\r\n\r\n    get plainText() {\r\n        var txt = this.text\r\n        if (this.newLineMode === RAW_NEWLINE) {\r\n            txt += \"\\n\";\r\n        }\r\n\r\n        return txt;\r\n    }\r\n\r\n    get wrapText() {\r\n        var txt = this.text;\r\n        if (this.newLineMode !== NO_NEWLINE) {\r\n            txt += \"\\n\";\r\n        }\r\n\r\n        return txt;\r\n    }\r\n\r\n    get rawTextLength() {\r\n        var len = this.text.length;\r\n        if (this.newLineMode === RAW_NEWLINE) {\r\n            len += 1;\r\n        }\r\n        return len;\r\n    }\r\n\r\n    get endIndex() {\r\n        return this.startIndex + this.rawTextLength;\r\n    }\r\n\r\n    get lastX() {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    get isTextPen() {\r\n        return (this.text !== '');\r\n    }\r\n\r\n    get isImagePen() {\r\n        return !!this.prop.img;\r\n    }\r\n\r\n    get hasAreaMarker() {\r\n        return !!this.prop.area;\r\n    }\r\n};\r\n\r\nexport default Pen;"]},"metadata":{},"sourceType":"module"}